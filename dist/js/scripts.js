document.querySelector("header").style.paddingTop=document.querySelector(".header-line").getBoundingClientRect().height+"px";let header=document.querySelector(".header-line"),burger=document.querySelector(".burger");function menuToggle(e){e.preventDefault(),header.classList.toggle("active-header"),burger.classList.toggle("active-burger")}burger.onclick=menuToggle;let phone=document.querySelector(".phone-soc"),phoneSvg=document.querySelector(".phone-soc > a");function checkPhone(e){phoneSvg.closest(".phone-soc").classList.contains("active-phone")||e.preventDefault()}function phoneClick(e){phone.classList.contains("active-phone")&&e.target!=this||phone.classList.toggle("active-phone"),phoneClose(event)}function phoneClose(e){e.target==phone||phone.contains(e.target)||phone.classList.remove("active-phone")}phoneSvg.onclick=checkPhone,phone.onclick=phoneClick,document.body.onclick=phoneClose;let deletedImg,deletedNavImg,left=document.querySelector(".arr-left"),right=document.querySelector(".arr-right"),sliderLine=document.querySelector(".slider-line"),img=document.querySelectorAll(".slider-line div"),imgArr=[],imgNumber=0,sliderNav=document.querySelector(".navigation-line"),navContent=" ";left.onclick=slideLeft,right.onclick=slideRight;for(let e=0;e<img.length;e++)img[e].setAttribute("data-picture-number",e)," "==sliderNav.innerHTML?(sliderNav.innerHTML=""+img[e].outerHTML,navContent=sliderNav.innerHTML):(sliderNav.innerHTML=`${navContent}${img[e].outerHTML}`,navContent=sliderNav.innerHTML);let navSlide=document.querySelectorAll(".navigation-line div"),navSlideWidth=navSlide[0].getBoundingClientRect().width;if(document.body.offsetWidth>990){navSlide[2].classList.add("active-slide");for(let e=0;e<img.length;e++)img[e].style.transform=`translateX(-${2*img[1].getBoundingClientRect().width}px)`}else{navSlide[1].classList.add("active-slide");for(let e=0;e<img.length;e++)img[e].style.transform=`translateX(-${img[1].getBoundingClientRect().width}px)`}function slideLeft(e){let t=document.querySelectorAll(".slider-line div"),l=document.querySelectorAll(".navigation-line div");e.preventDefault(),deletedImg=t[t.length-1],sliderLine.removeChild(t[t.length-1]),sliderLine.insertBefore(deletedImg,sliderLine.firstElementChild),deletedNavImg=l[l.length-1],sliderNav.removeChild(l[l.length-1]),sliderNav.insertBefore(deletedNavImg,sliderNav.firstElementChild)}function slideRight(e){let t=document.querySelectorAll(".slider-line div"),l=document.querySelectorAll(".navigation-line div");e.preventDefault(),deletedImg=t[0],sliderLine.removeChild(t[0]),sliderLine.appendChild(deletedImg),deletedNavImg=l[0],sliderNav.removeChild(l[0]),sliderNav.appendChild(deletedNavImg)}for(let e=0;e<navSlide.length;e++)navSlide[e].onclick=widthCheck;function widthCheck(){document.body.offsetWidth>990?goToSlide(event,2):goToSlide(event,1)}function goToSlide(e,t){console.log(t);let l=document.querySelector(".navigation-line .active-slide"),n=document.querySelectorAll(".slider-line div"),i=document.querySelectorAll(".navigation-line div");l.classList.remove("active-slide"),e.target.closest("div").classList.add("active-slide");for(let e=0;e<i.length;e++)n[e].setAttribute("data-picture-number",e),i[e].setAttribute("data-picture-number",e);if(e.target.closest("div").getAttribute("data-picture-number")>l.getAttribute("data-picture-number"))for(let l=t;l<e.target.closest("div").getAttribute("data-picture-number");l++){let e=document.querySelectorAll(".slider-line div"),t=document.querySelectorAll(".navigation-line div");deletedImg=e[0],sliderLine.removeChild(e[0]),sliderLine.appendChild(deletedImg),deletedNavImg=t[0],sliderNav.removeChild(t[0]),sliderNav.appendChild(deletedNavImg)}else{if(!(e.target.closest("div").getAttribute("data-picture-number")<l.getAttribute("data-picture-number")))return!1;for(let l=t;l>e.target.closest("div").getAttribute("data-picture-number");l--){let e=document.querySelectorAll(".slider-line div"),t=document.querySelectorAll(".navigation-line div");deletedImg=e[e.length-1],sliderLine.removeChild(e[e.length-1]),sliderLine.insertBefore(deletedImg,sliderLine.firstElementChild),deletedNavImg=t[t.length-1],sliderNav.removeChild(t[t.length-1]),sliderNav.insertBefore(deletedNavImg,sliderNav.firstElementChild)}}}let animParent=document.querySelectorAll(".anim-parent"),startAnim=window.innerHeight/2;function checkScroll(){console.log(startAnim),animParent.forEach(e=>{if(window.pageYOffset+startAnim>=e.offsetTop){let t=e.querySelectorAll(".animation-left"),l=e.querySelectorAll(".animation-right"),n=e.querySelectorAll(".animation-bottom"),i=e.querySelectorAll(".animation-fade");t.forEach(e=>{e.classList.remove("animation-left")}),l.forEach(e=>{e.classList.remove("animation-right")}),n.forEach(e=>{e.classList.remove("animation-bottom")}),i.forEach(e=>{e.classList.remove("animation-fade")})}})}window.onwheel=checkScroll,window.onscroll=checkScroll;let sectionAbout=document.querySelector(".about-us"),sectionServices=document.querySelector(".services"),sectionWorks=document.querySelector(".examples"),sectionContacts=document.querySelector("footer"),offset=window.pageYOffset;function scrollDown(e){header.classList.remove("active-header"),burger.classList.remove("active-burger"),offset>e.offsetTop-40?offset-=20:offset+=20,window.scrollTo(0,offset),(offset<e.offsetTop-60||offset>e.offsetTop-20)&&setTimeout(()=>{scrollDown(e)},.3)}function aboutScroll(e){e.preventDefault(),scrollDown(sectionAbout)}function servicesScroll(e){e.preventDefault(),scrollDown(sectionServices)}function examplesScroll(e){e.preventDefault(),scrollDown(sectionWorks)}function contactsScroll(e){e.preventDefault(),scrollDown(sectionContacts)}document.querySelectorAll("#about-us").forEach(e=>{e.onclick=aboutScroll}),document.querySelectorAll("#services").forEach(e=>{e.onclick=servicesScroll}),document.querySelectorAll("#examples").forEach(e=>{e.onclick=examplesScroll}),document.querySelectorAll("#contacts").forEach(e=>{e.onclick=contactsScroll}),(()=>{const e=document.querySelectorAll(".last-line"),t=()=>{e.forEach(e=>{(e=>{const t=e.innerText.trim().split(" ");let l="";t.forEach(e=>{l+=`<span>${e} </span>`});const n=e;n.innerHTML=l;const i=Array.from(e.getElementsByTagName("span"));let o=0;i.forEach(e=>{const t=e.offsetTop;t===o||(i.forEach(e=>{e.classList.remove("last-line-element")}),o=t),e.classList.add("last-line-element")});const r=n.querySelectorAll(".last-line-element"),c=document.createElement("span");c.classList.add("last-line-row"),((e,t,l)=>{const n=e[0].parentNode,{previousSibling:i}=e[0];for(let l=0;e.length-l;t.firstChild===e[0]&&(l+=1))t.appendChild(e[l]);i?n.insertBefore(t,i.nextSibling):l.appendChild(t)})(r,c,e)})(e)})};window.addEventListener("resize",()=>{t()}),t()})();
<<<<<<< HEAD
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic3R5bGUiLCJwYWRkaW5nVG9wIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaGVpZ2h0IiwiaGVhZGVyIiwiYnVyZ2VyIiwibWVudVRvZ2dsZSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJvbmNsaWNrIiwicGhvbmUiLCJwaG9uZVN2ZyIsImNoZWNrUGhvbmUiLCJlIiwiY2xvc2VzdCIsImNvbnRhaW5zIiwicGhvbmVDbGljayIsInRhcmdldCIsInRoaXMiLCJwaG9uZUNsb3NlIiwicmVtb3ZlIiwiYm9keSIsImRlbGV0ZWRJbWciLCJkZWxldGVkTmF2SW1nIiwibGVmdCIsInJpZ2h0Iiwic2xpZGVyTGluZSIsImltZyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbWdBcnIiLCJpbWdOdW1iZXIiLCJzbGlkZXJOYXYiLCJuYXZDb250ZW50Iiwic2xpZGVMZWZ0Iiwic2xpZGVSaWdodCIsImkiLCJsZW5ndGgiLCJzZXRBdHRyaWJ1dGUiLCJpbm5lckhUTUwiLCJvdXRlckhUTUwiLCJuYXZTbGlkZSIsIm5hdlNsaWRlV2lkdGgiLCJ3aWR0aCIsIm9mZnNldFdpZHRoIiwiYWRkIiwidHJhbnNmb3JtIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImFwcGVuZENoaWxkIiwid2lkdGhDaGVjayIsImdvVG9TbGlkZSIsIm1pZGRsZVNsaWRlIiwiY29uc29sZSIsImxvZyIsImFjdGl2ZVNsaWRlIiwiYSIsImdldEF0dHJpYnV0ZSIsImMiLCJhbmltUGFyZW50Iiwic3RhcnRBbmltIiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJjaGVja1Njcm9sbCIsImZvckVhY2giLCJwYWdlWU9mZnNldCIsIm9mZnNldFRvcCIsImFuaW1MZWZ0IiwiYW5pbVJpZ2h0IiwiYW5pbUJvdHRvbSIsImFuaW1GYWRlIiwiZWxlbSIsIm9ud2hlZWwiLCJvbnNjcm9sbCIsInNlY3Rpb25BYm91dCIsInNlY3Rpb25TZXJ2aWNlcyIsInNlY3Rpb25Xb3JrcyIsInNlY3Rpb25Db250YWN0cyIsIm9mZnNldCIsInNjcm9sbERvd24iLCJzZWN0aW9uIiwic2Nyb2xsVG8iLCJzZXRUaW1lb3V0IiwiYWJvdXRTY3JvbGwiLCJzZXJ2aWNlc1Njcm9sbCIsImV4YW1wbGVzU2Nyb2xsIiwiY29udGFjdHNTY3JvbGwiLCJlbGVtZW50cyIsImZpbmRMYXN0Um93cyIsImNvbnRlbnRBcnIiLCJpbm5lclRleHQiLCJ0cmltIiwic3BsaXQiLCJjb250ZW50Rm9ybWF0dGVkIiwiaXRlbSIsImVsZW1lbnQiLCJjaGlsZHJlblNwYW4iLCJBcnJheSIsImZyb20iLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInRvcCIsInRoaXNUb3AiLCJlbCIsIndyYXBFbGVtZW50cyIsIndyYXBwZXIiLCJjcmVhdGVFbGVtZW50Iiwibm9kZXMiLCJwYXJlbnQiLCJwYXJlbnROb2RlIiwicHJldmlvdXNTaWJsaW5nIiwiZmlyc3RDaGlsZCIsIm5leHRTaWJsaW5nIiwid3JhcEFsbCIsImZpbmRMYXN0Um93IiwiYWRkRXZlbnRMaXN0ZW5lciJdLCJtYXBwaW5ncyI6IkFBQUFBLFNBQVNDLGNBQWMsVUFBVUMsTUFBTUMsV0FBZ0JILFNBQVNDLGNBQWMsZ0JBQWdCRyx3QkFBd0JDLE9BQWxFLEtBR3BELElBQUlDLE9BQVNOLFNBQVNDLGNBQWMsZ0JBQ2hDTSxPQUFTUCxTQUFTQyxjQUFjLFdBSXBDLFNBQVNPLFdBQVlDLEdBQ25CQSxFQUFNQyxpQkFDTkosT0FBT0ssVUFBVUMsT0FBTyxpQkFDeEJMLE9BQU9JLFVBQVVDLE9BQU8saUJBTDFCTCxPQUFPTSxRQUFVTCxXQVVqQixJQUFJTSxNQUFRZCxTQUFTQyxjQUFjLGNBQy9CYyxTQUFXZixTQUFTQyxjQUFjLGtCQUl0QyxTQUFTZSxXQUFZQyxHQUNmRixTQUFTRyxRQUFRLGNBQWNQLFVBQVVRLFNBQVMsaUJBQ3BE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L0YsVUFBVWEsT0FuQ0QsdUJBcUNkZ0YsRUFBTUMsR0FMTlAsRUFBS3ZGLFVBQVVxQyxJQWhDRCx1QkEwQ2xCLE1BQU0yRCxFQUFlUixFQUFRbkUsaUJBQWlCLHNCQUN4QzRFLEVBQVU1RyxTQUFTNkcsY0FBYyxRQUN2Q0QsRUFBUWpHLFVBQVVxQyxJQTNDSixpQkFFQSxFQUFDOEQsRUFBT0YsRUFBU2pDLEtBQy9CLE1BQU1vQyxFQUFTRCxFQUFNLEdBQUdFLFlBQ2xCQyxnQkFBRUEsR0FBb0JILEVBQU0sR0FDbEMsSUFBSyxJQUFJdkUsRUFBSSxFQUFHdUUsRUFBTXRFLE9BQVNELEVBQUdxRSxFQUFRTSxhQUFlSixFQUFNLEtBQU92RSxHQUFLLEdBQ3pFcUUsRUFBUXZELFlBQVl5RCxFQUFNdkUsSUFFeEIwRSxFQUNGRixFQUFPNUQsYUFBYXlELEVBQVNLLEVBQWdCRSxhQUU3Q3hDLEVBQUt0QixZQUFZdUQsSUFpQ25CUSxDQUFRVCxFQUFjQyxFQUFTakMsSUFLN0IwQyxDQUFZMUMsTUFJaEJWLE9BQU9xRCxpQkFBaUIsU0FBVSxLQUNoQzFCLE1BRUZBLEtBM0RGIiwiZmlsZSI6InNjcmlwdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaGVhZGVyXCIpLnN0eWxlLnBhZGRpbmdUb3AgPSBgJHtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlci1saW5lXCIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodH1weGBcblxuLy8gYnVyZ2VyIG1lbnUgXG5sZXQgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXItbGluZVwiKSxcbiAgICBidXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1cmdlclwiKVxuXG5idXJnZXIub25jbGljayA9IG1lbnVUb2dnbGUgXG5cbmZ1bmN0aW9uIG1lbnVUb2dnbGUgKGV2ZW50KXtcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICBoZWFkZXIuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZS1oZWFkZXJcIilcbiAgYnVyZ2VyLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmUtYnVyZ2VyXCIpXG59XG5cbi8vcGhvbmUgb24gc29jIGxpbmUgdG9nZ2xlIFxuXG5sZXQgcGhvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBob25lLXNvY1wiKSxcbiAgICBwaG9uZVN2ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGhvbmUtc29jID4gYVwiKVxuXG5waG9uZVN2Zy5vbmNsaWNrID0gY2hlY2tQaG9uZVxuXG5mdW5jdGlvbiBjaGVja1Bob25lIChlKXtcbiAgaWYoIXBob25lU3ZnLmNsb3Nlc3QoXCIucGhvbmUtc29jXCIpLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZS1waG9uZVwiKSl7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gIH1cbn1cblxucGhvbmUub25jbGljayA9IHBob25lQ2xpY2tcblxuZnVuY3Rpb24gcGhvbmVDbGljayAoZSl7XG4gIGlmKHBob25lLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZS1waG9uZVwiKSAmJiBlLnRhcmdldCAhPSB0aGlzKXtcbiAgfWVsc2V7XG4gICAgcGhvbmUuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZS1waG9uZVwiKVxuICB9XG4gIHBob25lQ2xvc2UoZXZlbnQpXG59XG5cbmRvY3VtZW50LmJvZHkub25jbGljayA9IHBob25lQ2xvc2VcblxuZnVuY3Rpb24gcGhvbmVDbG9zZSAoZXZlbnQpe1xuICBpZihldmVudC50YXJnZXQgIT0gcGhvbmUgJiYgIXBob25lLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpe1xuICAgIHBob25lLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtcGhvbmVcIilcbiAgfVxufVxuXG4vLyBnYWxsZXJ5IHNsaWRlciBcbmxldCBsZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hcnItbGVmdFwiKSxcbiAgICByaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXJyLXJpZ2h0XCIpLFxuICAgIHNsaWRlckxpbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNsaWRlci1saW5lXCIpLFxuICAgIGltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2xpZGVyLWxpbmUgZGl2XCIpLFxuICAgIGltZ0FyciA9IFtdLFxuICAgIGltZ051bWJlciA9IDAsXG4gICAgc2xpZGVyTmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZpZ2F0aW9uLWxpbmVcIiksXG4gICAgbmF2Q29udGVudCA9IFwiIFwiLFxuICAgIGRlbGV0ZWRJbWcsXG4gICAgZGVsZXRlZE5hdkltZ1xuXG5sZWZ0Lm9uY2xpY2sgPSBzbGlkZUxlZnQgXG5yaWdodC5vbmNsaWNrID0gc2xpZGVSaWdodCBcblxuZm9yKGxldCBpID0gMDsgaSA8IGltZy5sZW5ndGg7IGkrKyl7XG4gIGltZ1tpXS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXBpY3R1cmUtbnVtYmVyXCIsIGkpXG4gIGlmKHNsaWRlck5hdi5pbm5lckhUTUwgPT0gXCIgXCIpe1xuICAgIHNsaWRlck5hdi5pbm5lckhUTUwgPSBgJHtpbWdbaV0ub3V0ZXJIVE1MfWBcbiAgICBuYXZDb250ZW50ID0gc2xpZGVyTmF2LmlubmVySFRNTFxuICB9ZWxzZXtcbiAgICBzbGlkZXJOYXYuaW5uZXJIVE1MID0gYCR7bmF2Q29udGVudH0ke2ltZ1tpXS5vdXRlckhUTUx9YFxuICAgIG5hdkNvbnRlbnQgPSBzbGlkZXJOYXYuaW5uZXJIVE1MXG4gIH1cbn1cblxuXG5sZXQgbmF2U2xpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdmlnYXRpb24tbGluZSBkaXZcIiksXG5uYXZTbGlkZVdpZHRoID0gbmF2U2xpZGVbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGhcbiAgICBcbmlmKGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGggPiA5OTApe1xuICBuYXZTbGlkZVsyXS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlLXNsaWRlXCIpICBcbiAgZm9yKGxldCBpID0gMDsgaSA8IGltZy5sZW5ndGg7IGkrKyl7XG4gICAgaW1nW2ldLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke2ltZ1sxXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAqIDJ9cHgpYFxuICB9XG59ZWxzZXtcbiAgbmF2U2xpZGVbMV0uY2xhc3NMaXN0LmFkZChcImFjdGl2ZS1zbGlkZVwiKSAgXG4gIGZvcihsZXQgaSA9IDA7IGkgPCBpbWcubGVuZ3RoOyBpKyspe1xuICAgIGltZ1tpXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgtJHtpbWdbMV0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGh9cHgpYCBcbiAgfVxufVxuXG5mdW5jdGlvbiBzbGlkZUxlZnQgKGV2ZW50KXtcbiAgbGV0IGltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2xpZGVyLWxpbmUgZGl2XCIpLFxuICAgICAgbmF2U2xpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdmlnYXRpb24tbGluZSBkaXZcIilcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICBkZWxldGVkSW1nID0gaW1nW2ltZy5sZW5ndGggLSAxXVxuICBzbGlkZXJMaW5lLnJlbW92ZUNoaWxkKGltZ1tpbWcubGVuZ3RoIC0gMV0pXG4gIHNsaWRlckxpbmUuaW5zZXJ0QmVmb3JlKGRlbGV0ZWRJbWcsIHNsaWRlckxpbmUuZmlyc3RFbGVtZW50Q2hpbGQpXG4gIGRlbGV0ZWROYXZJbWcgPSBuYXZTbGlkZVtuYXZTbGlkZS5sZW5ndGggLSAxXVxuICBzbGlkZXJOYXYucmVtb3ZlQ2hpbGQobmF2U2xpZGVbbmF2U2xpZGUubGVuZ3RoIC0gMV0pXG4gIHNsaWRlck5hdi5pbnNlcnRCZWZvcmUoZGVsZXRlZE5hdkltZywgc2xpZGVyTmF2LmZpcnN0RWxlbWVudENoaWxkKVxufVxuXG5mdW5jdGlvbiBzbGlkZVJpZ2h0IChldmVudCl7XG4gIGxldCBpbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNsaWRlci1saW5lIGRpdlwiKSxcbiAgICAgIG5hdlNsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZpZ2F0aW9uLWxpbmUgZGl2XCIpXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgZGVsZXRlZEltZyA9IGltZ1swXVxuICBzbGlkZXJMaW5lLnJlbW92ZUNoaWxkKGltZ1swXSlcbiAgc2xpZGVyTGluZS5hcHBlbmRDaGlsZChkZWxldGVkSW1nKVxuICBkZWxldGVkTmF2SW1nID0gbmF2U2xpZGVbMF1cbiAgc2xpZGVyTmF2LnJlbW92ZUNoaWxkKG5hdlNsaWRlWzBdKVxuICBzbGlkZXJOYXYuYXBwZW5kQ2hpbGQoZGVsZXRlZE5hdkltZylcbn1cblxuZm9yKGxldCBpID0gMDsgaSA8IG5hdlNsaWRlLmxlbmd0aDsgaSsrKXtcbiAgbmF2U2xpZGVbaV0ub25jbGljayA9IHdpZHRoQ2hlY2tcbn1cblxuZnVuY3Rpb24gd2lkdGhDaGVjayAoKXtcbiAgaWYoZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aCA+IDk5MCl7XG4gICAgZ29Ub1NsaWRlKGV2ZW50LCAyKVxuICB9ZWxzZXtcbiAgICBnb1RvU2xpZGUoZXZlbnQsIDEpXG4gIH1cbn1cblxuZnVuY3Rpb24gZ29Ub1NsaWRlIChldmVudCwgbWlkZGxlU2xpZGUpe1xuICBjb25zb2xlLmxvZyhtaWRkbGVTbGlkZSlcbiAgbGV0IGFjdGl2ZVNsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLm5hdmlnYXRpb24tbGluZSAuYWN0aXZlLXNsaWRlYCksXG4gICAgICBpbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNsaWRlci1saW5lIGRpdlwiKSxcbiAgICAgIG5hdlNsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZpZ2F0aW9uLWxpbmUgZGl2XCIpXG4gIGFjdGl2ZVNsaWRlLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtc2xpZGVcIikgIFxuICBldmVudC50YXJnZXQuY2xvc2VzdChcImRpdlwiKS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlLXNsaWRlXCIpIFxuICBmb3IobGV0IGEgPSAwOyBhIDwgbmF2U2xpZGUubGVuZ3RoOyBhKyspe1xuICAgIGltZ1thXS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXBpY3R1cmUtbnVtYmVyXCIsIGEpXG4gICAgbmF2U2xpZGVbYV0uc2V0QXR0cmlidXRlKFwiZGF0YS1waWN0dXJlLW51bWJlclwiLCBhKVxuICB9ICBcbiAgaWYoZXZlbnQudGFyZ2V0LmNsb3Nlc3QoXCJkaXZcIikuZ2V0QXR0cmlidXRlKFwiZGF0YS1waWN0dXJlLW51bWJlclwiKSA+IGFjdGl2ZVNsaWRlLmdldEF0dHJpYnV0ZShcImRhdGEtcGljdHVyZS1udW1iZXJcIikpe1xuICAgIGZvcihsZXQgYyA9IG1pZGRsZVNsaWRlOyBjIDwgZXZlbnQudGFyZ2V0LmNsb3Nlc3QoXCJkaXZcIikuZ2V0QXR0cmlidXRlKFwiZGF0YS1waWN0dXJlLW51bWJlclwiKTsgYysrKXtcbiAgICAgIGxldCBpbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNsaWRlci1saW5lIGRpdlwiKSxcbiAgICAgICAgICBuYXZTbGlkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmF2aWdhdGlvbi1saW5lIGRpdlwiKVxuICAgICAgZGVsZXRlZEltZyA9IGltZ1swXVxuICAgICAgc2xpZGVyTGluZS5yZW1vdmVDaGlsZChpbWdbMF0pXG4gICAgICBzbGlkZXJMaW5lLmFwcGVuZENoaWxkKGRlbGV0ZWRJbWcpXG4gICAgICBkZWxldGVkTmF2SW1nID0gbmF2U2xpZGVbMF1cbiAgICAgIHNsaWRlck5hdi5yZW1vdmVDaGlsZChuYXZTbGlkZVswXSlcbiAgICAgIHNsaWRlck5hdi5hcHBlbmRDaGlsZChkZWxldGVkTmF2SW1nKVxuICAgIH1cbiAgfWVsc2UgaWYoZXZlbnQudGFyZ2V0LmNsb3Nlc3QoXCJkaXZcIikuZ2V0QXR0cmlidXRlKFwiZGF0YS1waWN0dXJlLW51bWJlclwiKSA8IGFjdGl2ZVNsaWRlLmdldEF0dHJpYnV0ZShcImRhdGEtcGljdHVyZS1udW1iZXJcIikpe1xuICAgIGZvcihsZXQgYyA9IG1pZGRsZVNsaWRlOyBjID4gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoXCJkaXZcIikuZ2V0QXR0cmlidXRlKFwiZGF0YS1waWN0dXJlLW51bWJlclwiKTsgYy0tKXtcbiAgICAgIGxldCBpbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNsaWRlci1saW5lIGRpdlwiKSxcbiAgICAgICAgICBuYXZTbGlkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmF2aWdhdGlvbi1saW5lIGRpdlwiKVxuICAgICAgZGVsZXRlZEltZyA9IGltZ1tpbWcubGVuZ3RoIC0gMV1cbiAgICAgIHNsaWRlckxpbmUucmVtb3ZlQ2hpbGQoaW1nW2ltZy5sZW5ndGggLSAxXSlcbiAgICAgIHNsaWRlckxpbmUuaW5zZXJ0QmVmb3JlKGRlbGV0ZWRJbWcsIHNsaWRlckxpbmUuZmlyc3RFbGVtZW50Q2hpbGQpXG4gICAgICBkZWxldGVkTmF2SW1nID0gbmF2U2xpZGVbbmF2U2xpZGUubGVuZ3RoIC0gMV1cbiAgICAgIHNsaWRlck5hdi5yZW1vdmVDaGlsZChuYXZTbGlkZVtuYXZTbGlkZS5sZW5ndGggLSAxXSlcbiAgICAgIHNsaWRlck5hdi5pbnNlcnRCZWZvcmUoZGVsZXRlZE5hdkltZywgc2xpZGVyTmF2LmZpcnN0RWxlbWVudENoaWxkKVxuICAgIH1cbiAgfWVsc2V7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuLy8gc2Nyb2xsIGFuaW1hdGlvbnNcblxubGV0IGFuaW1QYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmFuaW0tcGFyZW50XCIpLFxuICAgIHN0YXJ0QW5pbSA9IHdpbmRvdy5pbm5lckhlaWdodC8yXG5cbndpbmRvdy5vbndoZWVsID0gY2hlY2tTY3JvbGxcbndpbmRvdy5vbnNjcm9sbCA9IGNoZWNrU2Nyb2xsXG4gICAgXG5mdW5jdGlvbiBjaGVja1Njcm9sbCAoKXtcbiAgY29uc29sZS5sb2coc3RhcnRBbmltKVxuICBhbmltUGFyZW50LmZvckVhY2goKGUpID0+IHtcbiAgICBpZih3aW5kb3cucGFnZVlPZmZzZXQgKyBzdGFydEFuaW0gPj0gZS5vZmZzZXRUb3Ape1xuICAgICAgbGV0IGFuaW1MZWZ0ID0gZS5xdWVyeVNlbGVjdG9yQWxsKFwiLmFuaW1hdGlvbi1sZWZ0XCIpLFxuICAgICAgICAgIGFuaW1SaWdodCA9IGUucXVlcnlTZWxlY3RvckFsbChcIi5hbmltYXRpb24tcmlnaHRcIiksXG4gICAgICAgICAgYW5pbUJvdHRvbSA9IGUucXVlcnlTZWxlY3RvckFsbChcIi5hbmltYXRpb24tYm90dG9tXCIpLFxuICAgICAgICAgIGFuaW1GYWRlID0gZS5xdWVyeVNlbGVjdG9yQWxsKFwiLmFuaW1hdGlvbi1mYWRlXCIpXG4gICAgICBhbmltTGVmdC5mb3JFYWNoKChlbGVtKT0+e1xuICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJhbmltYXRpb24tbGVmdFwiKSAgXG4gICAgICB9KVxuICAgICAgYW5pbVJpZ2h0LmZvckVhY2goKGVsZW0pPT57XG4gICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZShcImFuaW1hdGlvbi1yaWdodFwiKSAgXG4gICAgICB9KVxuICAgICAgYW5pbUJvdHRvbS5mb3JFYWNoKChlbGVtKT0+e1xuICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJhbmltYXRpb24tYm90dG9tXCIpICBcbiAgICAgIH0pXG4gICAgICBhbmltRmFkZS5mb3JFYWNoKChlbGVtKT0+e1xuICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJhbmltYXRpb24tZmFkZVwiKSAgXG4gICAgICB9KVxuICAgIH1cbiAgfSkgIFxufVxuXG4vL2hlYWRlciBzY3JvbGwgdG8gXG5cbmxldCBzZWN0aW9uQWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFib3V0LXVzXCIpLFxuICAgIHNlY3Rpb25TZXJ2aWNlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VydmljZXNcIiksXG4gICAgc2VjdGlvbldvcmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5leGFtcGxlc1wiKSxcbiAgICBzZWN0aW9uQ29udGFjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZm9vdGVyXCIpLFxuICAgIG9mZnNldCA9IHdpbmRvdy5wYWdlWU9mZnNldFxuICAgIFxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNhYm91dC11c1wiKS5mb3JFYWNoKChlKT0+e1xuICBlLm9uY2xpY2sgPSBhYm91dFNjcm9sbFxuXG59KVxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNzZXJ2aWNlc1wiKS5mb3JFYWNoKChlKT0+e1xuICBlLm9uY2xpY2sgPSBzZXJ2aWNlc1Njcm9sbFxuXG59KVxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNleGFtcGxlc1wiKS5mb3JFYWNoKChlKT0+e1xuICBlLm9uY2xpY2sgPSBleGFtcGxlc1Njcm9sbFxuXG59KVxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNjb250YWN0c1wiKS5mb3JFYWNoKChlKT0+e1xuICBlLm9uY2xpY2sgPSBjb250YWN0c1Njcm9sbFxuXG59KVxuXG5mdW5jdGlvbiBzY3JvbGxEb3duIChzZWN0aW9uKXtcbiAgaGVhZGVyLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtaGVhZGVyXCIpXG4gIGJ1cmdlci5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlLWJ1cmdlclwiKVxuICBpZihvZmZzZXQgPiBzZWN0aW9uLm9mZnNldFRvcCAtIDQwKXtcbiAgICBvZmZzZXQgPSBvZmZzZXQgLSAyMFxuICB9ZWxzZXtcbiAgICBvZmZzZXQgPSBvZmZzZXQgKyAyMFxuICB9XG4gIHdpbmRvdy5zY3JvbGxUbygwLCBvZmZzZXQpXG4gIGlmKG9mZnNldCA8IHNlY3Rpb24ub2Zmc2V0VG9wIC0gNjAgfHwgb2Zmc2V0ID4gc2VjdGlvbi5vZmZzZXRUb3AgLSAyMCl7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzY3JvbGxEb3duIChzZWN0aW9uKVxuICAgIH0sIDAuMylcbiAgfVxufVxuXG5mdW5jdGlvbiBhYm91dFNjcm9sbChlKXtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gIHNjcm9sbERvd24oc2VjdGlvbkFib3V0KVxufVxuZnVuY3Rpb24gc2VydmljZXNTY3JvbGwoZSl7XG4gIGUucHJldmVudERlZmF1bHQoKVxuICBzY3JvbGxEb3duKHNlY3Rpb25TZXJ2aWNlcylcbn1cbmZ1bmN0aW9uIGV4YW1wbGVzU2Nyb2xsKGUpe1xuICBlLnByZXZlbnREZWZhdWx0KClcbiAgc2Nyb2xsRG93bihzZWN0aW9uV29ya3MpXG59XG5mdW5jdGlvbiBjb250YWN0c1Njcm9sbChlKXtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gIHNjcm9sbERvd24oc2VjdGlvbkNvbnRhY3RzKVxufVxuXG4vLyB0aXRsZXMgbGF0cyBsaW5lIHVuZGVybGluZVxuXG4oKCkgPT4ge1xuICBjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5sYXN0LWxpbmUnKVxuICBjb25zdCBuYW1lRWxlbWVudCA9ICdsYXN0LWxpbmUtZWxlbWVudCdcbiAgY29uc3QgbmFtZVJvdyA9ICdsYXN0LWxpbmUtcm93J1xuXG4gIGNvbnN0IHdyYXBBbGwgPSAobm9kZXMsIHdyYXBwZXIsIGVsZW0pID0+IHtcbiAgICBjb25zdCBwYXJlbnQgPSBub2Rlc1swXS5wYXJlbnROb2RlXG4gICAgY29uc3QgeyBwcmV2aW91c1NpYmxpbmcgfSA9IG5vZGVzWzBdXG4gICAgZm9yIChsZXQgaSA9IDA7IG5vZGVzLmxlbmd0aCAtIGk7IHdyYXBwZXIuZmlyc3RDaGlsZCA9PT0gbm9kZXNbMF0gJiYgKGkgKz0gMSkpIHtcbiAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQobm9kZXNbaV0pXG4gICAgfVxuICAgIGlmIChwcmV2aW91c1NpYmxpbmcpIHtcbiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUod3JhcHBlciwgcHJldmlvdXNTaWJsaW5nLm5leHRTaWJsaW5nKVxuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtLmFwcGVuZENoaWxkKHdyYXBwZXIpXG4gICAgfVxuICAgIHJldHVybiB3cmFwcGVyXG4gIH1cblxuICBjb25zdCBmaW5kTGFzdFJvdyA9IChlbGVtKSA9PiB7XG4gICAgY29uc3QgY29udGVudCA9IGVsZW0uaW5uZXJUZXh0LnRyaW0oKVxuICAgIGNvbnN0IGNvbnRlbnRBcnIgPSBjb250ZW50LnNwbGl0KCcgJylcbiAgICBsZXQgY29udGVudEZvcm1hdHRlZCA9ICcnXG4gICAgY29udGVudEFyci5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBjb250ZW50Rm9ybWF0dGVkICs9IGA8c3Bhbj4ke2l0ZW19IDwvc3Bhbj5gXG4gICAgfSlcbiAgICBjb25zdCBlbGVtZW50ID0gZWxlbVxuICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gY29udGVudEZvcm1hdHRlZFxuXG4gICAgY29uc3QgY2hpbGRyZW5TcGFuID0gQXJyYXkuZnJvbShlbGVtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzcGFuJykpXG4gICAgbGV0IHRvcCA9IDBcbiAgICBjaGlsZHJlblNwYW4uZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgdGhpc1RvcCA9IGl0ZW0ub2Zmc2V0VG9wXG4gICAgICBpZiAodGhpc1RvcCA9PT0gdG9wKSB7XG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZChuYW1lRWxlbWVudClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoaWxkcmVuU3Bhbi5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUobmFtZUVsZW1lbnQpXG4gICAgICAgIH0pXG4gICAgICAgIHRvcCA9IHRoaXNUb3BcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKG5hbWVFbGVtZW50KVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBjb25zdCB3cmFwRWxlbWVudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke25hbWVFbGVtZW50fWApXG4gICAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKVxuICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZChuYW1lUm93KVxuICAgIHdyYXBBbGwod3JhcEVsZW1lbnRzLCB3cmFwcGVyLCBlbGVtKVxuICB9XG5cbiAgY29uc3QgZmluZExhc3RSb3dzID0gKCkgPT4ge1xuICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgIGZpbmRMYXN0Um93KGVsZW0pXG4gICAgfSlcbiAgfVxuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgZmluZExhc3RSb3dzKClcbiAgfSlcbiAgZmluZExhc3RSb3dzKClcbn0pKCkiXX0=
=======
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic3R5bGUiLCJwYWRkaW5nVG9wIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaGVpZ2h0IiwiaGVhZGVyIiwiYnVyZ2VyIiwibWVudVRvZ2dsZSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJvbmNsaWNrIiwicGhvbmUiLCJwaG9uZVN2ZyIsImNoZWNrUGhvbmUiLCJlIiwiY2xvc2VzdCIsImNvbnRhaW5zIiwicGhvbmVDbGljayIsInRhcmdldCIsInRoaXMiLCJwaG9uZUNsb3NlIiwicmVtb3ZlIiwiYm9keSIsImRlbGV0ZWRJbWciLCJkZWxldGVkTmF2SW1nIiwibGVmdCIsInJpZ2h0Iiwic2xpZGVyTGluZSIsImltZyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbWdBcnIiLCJpbWdOdW1iZXIiLCJzbGlkZXJOYXYiLCJuYXZDb250ZW50Iiwic2xpZGVMZWZ0Iiwic2xpZGVSaWdodCIsImkiLCJsZW5ndGgiLCJzZXRBdHRyaWJ1dGUiLCJpbm5lckhUTUwiLCJvdXRlckhUTUwiLCJuYXZTbGlkZSIsIm5hdlNsaWRlV2lkdGgiLCJ3aWR0aCIsIm9mZnNldFdpZHRoIiwiYWRkIiwidHJhbnNmb3JtIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImFwcGVuZENoaWxkIiwid2lkdGhDaGVjayIsImdvVG9TbGlkZSIsIm1pZGRsZVNsaWRlIiwiY29uc29sZSIsImxvZyIsImFjdGl2ZVNsaWRlIiwiYSIsImdldEF0dHJpYnV0ZSIsImMiLCJhbmltUGFyZW50Iiwic3RhcnRBbmltIiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJjaGVja1Njcm9sbCIsImZvckVhY2giLCJwYWdlWU9mZnNldCIsIm9mZnNldFRvcCIsImFuaW1MZWZ0IiwiYW5pbVJpZ2h0IiwiYW5pbUJvdHRvbSIsImFuaW1GYWRlIiwiZWxlbSIsIm9ud2hlZWwiLCJvbnNjcm9sbCIsInNlY3Rpb25BYm91dCIsInNlY3Rpb25TZXJ2aWNlcyIsInNlY3Rpb25Xb3JrcyIsInNlY3Rpb25Db250YWN0cyIsIm9mZnNldCIsInNjcm9sbERvd24iLCJzZWN0aW9uIiwic2Nyb2xsVG8iLCJzZXRUaW1lb3V0IiwiYWJvdXRTY3JvbGwiLCJzZXJ2aWNlc1Njcm9sbCIsImV4YW1wbGVzU2Nyb2xsIiwiY29udGFjdHNTY3JvbGwiLCJlbGVtZW50cyIsImZpbmRMYXN0Um93cyIsImNvbnRlbnRBcnIiLCJpbm5lclRleHQiLCJ0cmltIiwic3BsaXQiLCJjb250ZW50Rm9ybWF0dGVkIiwiaXRlbSIsImVsZW1lbnQiLCJjaGlsZHJlblNwYW4iLCJBcnJheSIsImZyb20iLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInRvcCIsInRoaXNUb3AiLCJlbCIsIndyYXBFbGVtZW50cyIsIndyYXBwZXIiLCJjcmVhdGVFbGVtZW50Iiwibm9kZXMiLCJwYXJlbnQiLCJwYXJlbnROb2RlIiwicHJldmlvdXNTaWJsaW5nIiwiZmlyc3RDaGlsZCIsIm5leHRTaWJsaW5nIiwid3JhcEFsbCIsImZpbmRMYXN0Um93IiwiYWRkRXZlbnRMaXN0ZW5lciJdLCJtYXBwaW5ncyI6IkFBQUFBLFNBQVNDLGNBQWMsVUFBVUMsTUFBTUMsV0FBZ0JILFNBQVNDLGNBQWMsZ0JBQWdCRyx3QkFBd0JDLE9BQWxFLEtBR3BELElBQUlDLE9BQVNOLFNBQVNDLGNBQWMsZ0JBQ2hDTSxPQUFTUCxTQUFTQyxjQUFjLFdBSXBDLFNBQVNPLFdBQVlDLEdBQ25CQSxFQUFNQyxpQkFDTkosT0FBT0ssVUFBVUMsT0FBTyxpQkFDeEJMLE9BQU9JLFVBQVVDLE9BQU8saUJBTDFCTCxPQUFPTSxRQUFVTCxXQVVqQixJQUFJTSxNQUFRZCxTQUFTQyxjQUFjLGNBQy9CYyxTQUFXZixTQUFTQyxjQUFjLGtCQUl0QyxTQUFTZSxXQUFZQyxHQUNmRixTQUFTRyxRQUFRLGNBQWNQLFVBQVVRLFNBQVMsaUJBQ3BE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L0YsVUFBVWEsT0FuQ0QsdUJBcUNkZ0YsRUFBTUMsR0FMTlAsRUFBS3ZGLFVBQVVxQyxJQWhDRCx1QkEwQ2xCLE1BQU0yRCxFQUFlUixFQUFRbkUsaUJBQWlCLHNCQUN4QzRFLEVBQVU1RyxTQUFTNkcsY0FBYyxRQUN2Q0QsRUFBUWpHLFVBQVVxQyxJQTNDSixpQkFFQSxFQUFDOEQsRUFBT0YsRUFBU2pDLEtBQy9CLE1BQU1vQyxFQUFTRCxFQUFNLEdBQUdFLFlBQ2xCQyxnQkFBRUEsR0FBb0JILEVBQU0sR0FDbEMsSUFBSyxJQUFJdkUsRUFBSSxFQUFHdUUsRUFBTXRFLE9BQVNELEVBQUdxRSxFQUFRTSxhQUFlSixFQUFNLEtBQU92RSxHQUFLLEdBQ3pFcUUsRUFBUXZELFlBQVl5RCxFQUFNdkUsSUFFeEIwRSxFQUNGRixFQUFPNUQsYUFBYXlELEVBQVNLLEVBQWdCRSxhQUU3Q3hDLEVBQUt0QixZQUFZdUQsSUFpQ25CUSxDQUFRVCxFQUFjQyxFQUFTakMsSUFLN0IwQyxDQUFZMUMsTUFJaEJWLE9BQU9xRCxpQkFBaUIsU0FBVSxLQUNoQzFCLE1BRUZBLEtBM0RGIiwiZmlsZSI6InNjcmlwdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaGVhZGVyXCIpLnN0eWxlLnBhZGRpbmdUb3AgPSBgJHtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlci1saW5lXCIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodH1weGBcclxuXHJcbi8vIGJ1cmdlciBtZW51IFxyXG5sZXQgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXItbGluZVwiKSxcclxuICAgIGJ1cmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyXCIpXHJcblxyXG5idXJnZXIub25jbGljayA9IG1lbnVUb2dnbGUgXHJcblxyXG5mdW5jdGlvbiBtZW51VG9nZ2xlIChldmVudCl7XHJcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG4gIGhlYWRlci5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlLWhlYWRlclwiKVxyXG4gIGJ1cmdlci5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlLWJ1cmdlclwiKVxyXG59XHJcblxyXG4vL3Bob25lIG9uIHNvYyBsaW5lIHRvZ2dsZSBcclxuXHJcbmxldCBwaG9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGhvbmUtc29jXCIpLFxyXG4gICAgcGhvbmVTdmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBob25lLXNvYyA+IGFcIilcclxuXHJcbnBob25lU3ZnLm9uY2xpY2sgPSBjaGVja1Bob25lXHJcblxyXG5mdW5jdGlvbiBjaGVja1Bob25lIChlKXtcclxuICBpZighcGhvbmVTdmcuY2xvc2VzdChcIi5waG9uZS1zb2NcIikuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlLXBob25lXCIpKXtcclxuICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gIH1cclxufVxyXG5cclxucGhvbmUub25jbGljayA9IHBob25lQ2xpY2tcclxuXHJcbmZ1bmN0aW9uIHBob25lQ2xpY2sgKGUpe1xyXG4gIGlmKHBob25lLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZS1waG9uZVwiKSAmJiBlLnRhcmdldCAhPSB0aGlzKXtcclxuICB9ZWxzZXtcclxuICAgIHBob25lLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmUtcGhvbmVcIilcclxuICB9XHJcbiAgcGhvbmVDbG9zZShldmVudClcclxufVxyXG5cclxuZG9jdW1lbnQuYm9keS5vbmNsaWNrID0gcGhvbmVDbG9zZVxyXG5cclxuZnVuY3Rpb24gcGhvbmVDbG9zZSAoZXZlbnQpe1xyXG4gIGlmKGV2ZW50LnRhcmdldCAhPSBwaG9uZSAmJiAhcGhvbmUuY29udGFpbnMoZXZlbnQudGFyZ2V0KSl7XHJcbiAgICBwaG9uZS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlLXBob25lXCIpXHJcbiAgfVxyXG59XHJcblxyXG4vLyBnYWxsZXJ5IHNsaWRlciBcclxubGV0IGxlZnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFyci1sZWZ0XCIpLFxyXG4gICAgcmlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFyci1yaWdodFwiKSxcclxuICAgIHNsaWRlckxpbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNsaWRlci1saW5lXCIpLFxyXG4gICAgaW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zbGlkZXItbGluZSBkaXZcIiksXHJcbiAgICBpbWdBcnIgPSBbXSxcclxuICAgIGltZ051bWJlciA9IDAsXHJcbiAgICBzbGlkZXJOYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdmlnYXRpb24tbGluZVwiKSxcclxuICAgIG5hdkNvbnRlbnQgPSBcIiBcIixcclxuICAgIGRlbGV0ZWRJbWcsXHJcbiAgICBkZWxldGVkTmF2SW1nXHJcblxyXG5sZWZ0Lm9uY2xpY2sgPSBzbGlkZUxlZnQgXHJcbnJpZ2h0Lm9uY2xpY2sgPSBzbGlkZVJpZ2h0IFxyXG5cclxuZm9yKGxldCBpID0gMDsgaSA8IGltZy5sZW5ndGg7IGkrKyl7XHJcbiAgaW1nW2ldLnNldEF0dHJpYnV0ZShcImRhdGEtcGljdHVyZS1udW1iZXJcIiwgaSlcclxuICBpZihzbGlkZXJOYXYuaW5uZXJIVE1MID09IFwiIFwiKXtcclxuICAgIHNsaWRlck5hdi5pbm5lckhUTUwgPSBgJHtpbWdbaV0ub3V0ZXJIVE1MfWBcclxuICAgIG5hdkNvbnRlbnQgPSBzbGlkZXJOYXYuaW5uZXJIVE1MXHJcbiAgfWVsc2V7XHJcbiAgICBzbGlkZXJOYXYuaW5uZXJIVE1MID0gYCR7bmF2Q29udGVudH0ke2ltZ1tpXS5vdXRlckhUTUx9YFxyXG4gICAgbmF2Q29udGVudCA9IHNsaWRlck5hdi5pbm5lckhUTUxcclxuICB9XHJcbn1cclxuXHJcblxyXG5sZXQgbmF2U2xpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdmlnYXRpb24tbGluZSBkaXZcIiksXHJcbm5hdlNsaWRlV2lkdGggPSBuYXZTbGlkZVswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aFxyXG4gICAgXHJcbmlmKGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGggPiA5OTApe1xyXG4gIG5hdlNsaWRlWzJdLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtc2xpZGVcIikgIFxyXG4gIGZvcihsZXQgaSA9IDA7IGkgPCBpbWcubGVuZ3RoOyBpKyspe1xyXG4gICAgaW1nW2ldLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke2ltZ1sxXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAqIDJ9cHgpYFxyXG4gIH1cclxufWVsc2V7XHJcbiAgbmF2U2xpZGVbMV0uY2xhc3NMaXN0LmFkZChcImFjdGl2ZS1zbGlkZVwiKSAgXHJcbiAgZm9yKGxldCBpID0gMDsgaSA8IGltZy5sZW5ndGg7IGkrKyl7XHJcbiAgICBpbWdbaV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoLSR7aW1nWzFdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRofXB4KWAgXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzbGlkZUxlZnQgKGV2ZW50KXtcclxuICBsZXQgaW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zbGlkZXItbGluZSBkaXZcIiksXHJcbiAgICAgIG5hdlNsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZpZ2F0aW9uLWxpbmUgZGl2XCIpXHJcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG4gIGRlbGV0ZWRJbWcgPSBpbWdbaW1nLmxlbmd0aCAtIDFdXHJcbiAgc2xpZGVyTGluZS5yZW1vdmVDaGlsZChpbWdbaW1nLmxlbmd0aCAtIDFdKVxyXG4gIHNsaWRlckxpbmUuaW5zZXJ0QmVmb3JlKGRlbGV0ZWRJbWcsIHNsaWRlckxpbmUuZmlyc3RFbGVtZW50Q2hpbGQpXHJcbiAgZGVsZXRlZE5hdkltZyA9IG5hdlNsaWRlW25hdlNsaWRlLmxlbmd0aCAtIDFdXHJcbiAgc2xpZGVyTmF2LnJlbW92ZUNoaWxkKG5hdlNsaWRlW25hdlNsaWRlLmxlbmd0aCAtIDFdKVxyXG4gIHNsaWRlck5hdi5pbnNlcnRCZWZvcmUoZGVsZXRlZE5hdkltZywgc2xpZGVyTmF2LmZpcnN0RWxlbWVudENoaWxkKVxyXG59XHJcblxyXG5mdW5jdGlvbiBzbGlkZVJpZ2h0IChldmVudCl7XHJcbiAgbGV0IGltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2xpZGVyLWxpbmUgZGl2XCIpLFxyXG4gICAgICBuYXZTbGlkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmF2aWdhdGlvbi1saW5lIGRpdlwiKVxyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICBkZWxldGVkSW1nID0gaW1nWzBdXHJcbiAgc2xpZGVyTGluZS5yZW1vdmVDaGlsZChpbWdbMF0pXHJcbiAgc2xpZGVyTGluZS5hcHBlbmRDaGlsZChkZWxldGVkSW1nKVxyXG4gIGRlbGV0ZWROYXZJbWcgPSBuYXZTbGlkZVswXVxyXG4gIHNsaWRlck5hdi5yZW1vdmVDaGlsZChuYXZTbGlkZVswXSlcclxuICBzbGlkZXJOYXYuYXBwZW5kQ2hpbGQoZGVsZXRlZE5hdkltZylcclxufVxyXG5cclxuZm9yKGxldCBpID0gMDsgaSA8IG5hdlNsaWRlLmxlbmd0aDsgaSsrKXtcclxuICBuYXZTbGlkZVtpXS5vbmNsaWNrID0gd2lkdGhDaGVja1xyXG59XHJcblxyXG5mdW5jdGlvbiB3aWR0aENoZWNrICgpe1xyXG4gIGlmKGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGggPiA5OTApe1xyXG4gICAgZ29Ub1NsaWRlKGV2ZW50LCAyKVxyXG4gIH1lbHNle1xyXG4gICAgZ29Ub1NsaWRlKGV2ZW50LCAxKVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ29Ub1NsaWRlIChldmVudCwgbWlkZGxlU2xpZGUpe1xyXG4gIGNvbnNvbGUubG9nKG1pZGRsZVNsaWRlKVxyXG4gIGxldCBhY3RpdmVTbGlkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5uYXZpZ2F0aW9uLWxpbmUgLmFjdGl2ZS1zbGlkZWApLFxyXG4gICAgICBpbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNsaWRlci1saW5lIGRpdlwiKSxcclxuICAgICAgbmF2U2xpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdmlnYXRpb24tbGluZSBkaXZcIilcclxuICBhY3RpdmVTbGlkZS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlLXNsaWRlXCIpICBcclxuICBldmVudC50YXJnZXQuY2xvc2VzdChcImRpdlwiKS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlLXNsaWRlXCIpIFxyXG4gIGZvcihsZXQgYSA9IDA7IGEgPCBuYXZTbGlkZS5sZW5ndGg7IGErKyl7XHJcbiAgICBpbWdbYV0uc2V0QXR0cmlidXRlKFwiZGF0YS1waWN0dXJlLW51bWJlclwiLCBhKVxyXG4gICAgbmF2U2xpZGVbYV0uc2V0QXR0cmlidXRlKFwiZGF0YS1waWN0dXJlLW51bWJlclwiLCBhKVxyXG4gIH0gIFxyXG4gIGlmKGV2ZW50LnRhcmdldC5jbG9zZXN0KFwiZGl2XCIpLmdldEF0dHJpYnV0ZShcImRhdGEtcGljdHVyZS1udW1iZXJcIikgPiBhY3RpdmVTbGlkZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBpY3R1cmUtbnVtYmVyXCIpKXtcclxuICAgIGZvcihsZXQgYyA9IG1pZGRsZVNsaWRlOyBjIDwgZXZlbnQudGFyZ2V0LmNsb3Nlc3QoXCJkaXZcIikuZ2V0QXR0cmlidXRlKFwiZGF0YS1waWN0dXJlLW51bWJlclwiKTsgYysrKXtcclxuICAgICAgbGV0IGltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2xpZGVyLWxpbmUgZGl2XCIpLFxyXG4gICAgICAgICAgbmF2U2xpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdmlnYXRpb24tbGluZSBkaXZcIilcclxuICAgICAgZGVsZXRlZEltZyA9IGltZ1swXVxyXG4gICAgICBzbGlkZXJMaW5lLnJlbW92ZUNoaWxkKGltZ1swXSlcclxuICAgICAgc2xpZGVyTGluZS5hcHBlbmRDaGlsZChkZWxldGVkSW1nKVxyXG4gICAgICBkZWxldGVkTmF2SW1nID0gbmF2U2xpZGVbMF1cclxuICAgICAgc2xpZGVyTmF2LnJlbW92ZUNoaWxkKG5hdlNsaWRlWzBdKVxyXG4gICAgICBzbGlkZXJOYXYuYXBwZW5kQ2hpbGQoZGVsZXRlZE5hdkltZylcclxuICAgIH1cclxuICB9ZWxzZSBpZihldmVudC50YXJnZXQuY2xvc2VzdChcImRpdlwiKS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBpY3R1cmUtbnVtYmVyXCIpIDwgYWN0aXZlU2xpZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1waWN0dXJlLW51bWJlclwiKSl7XHJcbiAgICBmb3IobGV0IGMgPSBtaWRkbGVTbGlkZTsgYyA+IGV2ZW50LnRhcmdldC5jbG9zZXN0KFwiZGl2XCIpLmdldEF0dHJpYnV0ZShcImRhdGEtcGljdHVyZS1udW1iZXJcIik7IGMtLSl7XHJcbiAgICAgIGxldCBpbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNsaWRlci1saW5lIGRpdlwiKSxcclxuICAgICAgICAgIG5hdlNsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZpZ2F0aW9uLWxpbmUgZGl2XCIpXHJcbiAgICAgIGRlbGV0ZWRJbWcgPSBpbWdbaW1nLmxlbmd0aCAtIDFdXHJcbiAgICAgIHNsaWRlckxpbmUucmVtb3ZlQ2hpbGQoaW1nW2ltZy5sZW5ndGggLSAxXSlcclxuICAgICAgc2xpZGVyTGluZS5pbnNlcnRCZWZvcmUoZGVsZXRlZEltZywgc2xpZGVyTGluZS5maXJzdEVsZW1lbnRDaGlsZClcclxuICAgICAgZGVsZXRlZE5hdkltZyA9IG5hdlNsaWRlW25hdlNsaWRlLmxlbmd0aCAtIDFdXHJcbiAgICAgIHNsaWRlck5hdi5yZW1vdmVDaGlsZChuYXZTbGlkZVtuYXZTbGlkZS5sZW5ndGggLSAxXSlcclxuICAgICAgc2xpZGVyTmF2Lmluc2VydEJlZm9yZShkZWxldGVkTmF2SW1nLCBzbGlkZXJOYXYuZmlyc3RFbGVtZW50Q2hpbGQpXHJcbiAgICB9XHJcbiAgfWVsc2V7XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcbn1cclxuXHJcbi8vIHNjcm9sbCBhbmltYXRpb25zXHJcblxyXG5sZXQgYW5pbVBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYW5pbS1wYXJlbnRcIiksXHJcbiAgICBzdGFydEFuaW0gPSB3aW5kb3cuaW5uZXJIZWlnaHQvMlxyXG5cclxud2luZG93Lm9ud2hlZWwgPSBjaGVja1Njcm9sbFxyXG53aW5kb3cub25zY3JvbGwgPSBjaGVja1Njcm9sbFxyXG4gICAgXHJcbmZ1bmN0aW9uIGNoZWNrU2Nyb2xsICgpe1xyXG4gIGNvbnNvbGUubG9nKHN0YXJ0QW5pbSlcclxuICBhbmltUGFyZW50LmZvckVhY2goKGUpID0+IHtcclxuICAgIGlmKHdpbmRvdy5wYWdlWU9mZnNldCArIHN0YXJ0QW5pbSA+PSBlLm9mZnNldFRvcCl7XHJcbiAgICAgIGxldCBhbmltTGVmdCA9IGUucXVlcnlTZWxlY3RvckFsbChcIi5hbmltYXRpb24tbGVmdFwiKSxcclxuICAgICAgICAgIGFuaW1SaWdodCA9IGUucXVlcnlTZWxlY3RvckFsbChcIi5hbmltYXRpb24tcmlnaHRcIiksXHJcbiAgICAgICAgICBhbmltQm90dG9tID0gZS5xdWVyeVNlbGVjdG9yQWxsKFwiLmFuaW1hdGlvbi1ib3R0b21cIiksXHJcbiAgICAgICAgICBhbmltRmFkZSA9IGUucXVlcnlTZWxlY3RvckFsbChcIi5hbmltYXRpb24tZmFkZVwiKVxyXG4gICAgICBhbmltTGVmdC5mb3JFYWNoKChlbGVtKT0+e1xyXG4gICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZShcImFuaW1hdGlvbi1sZWZ0XCIpICBcclxuICAgICAgfSlcclxuICAgICAgYW5pbVJpZ2h0LmZvckVhY2goKGVsZW0pPT57XHJcbiAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKFwiYW5pbWF0aW9uLXJpZ2h0XCIpICBcclxuICAgICAgfSlcclxuICAgICAgYW5pbUJvdHRvbS5mb3JFYWNoKChlbGVtKT0+e1xyXG4gICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZShcImFuaW1hdGlvbi1ib3R0b21cIikgIFxyXG4gICAgICB9KVxyXG4gICAgICBhbmltRmFkZS5mb3JFYWNoKChlbGVtKT0+e1xyXG4gICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZShcImFuaW1hdGlvbi1mYWRlXCIpICBcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9KSAgXHJcbn1cclxuXHJcbi8vaGVhZGVyIHNjcm9sbCB0byBcclxuXHJcbmxldCBzZWN0aW9uQWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFib3V0LXVzXCIpLFxyXG4gICAgc2VjdGlvblNlcnZpY2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZXJ2aWNlc1wiKSxcclxuICAgIHNlY3Rpb25Xb3JrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZXhhbXBsZXNcIiksXHJcbiAgICBzZWN0aW9uQ29udGFjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZm9vdGVyXCIpLFxyXG4gICAgb2Zmc2V0ID0gd2luZG93LnBhZ2VZT2Zmc2V0XHJcbiAgICBcclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNhYm91dC11c1wiKS5mb3JFYWNoKChlKT0+e1xyXG4gIGUub25jbGljayA9IGFib3V0U2Nyb2xsXHJcblxyXG59KVxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI3NlcnZpY2VzXCIpLmZvckVhY2goKGUpPT57XHJcbiAgZS5vbmNsaWNrID0gc2VydmljZXNTY3JvbGxcclxuXHJcbn0pXHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjZXhhbXBsZXNcIikuZm9yRWFjaCgoZSk9PntcclxuICBlLm9uY2xpY2sgPSBleGFtcGxlc1Njcm9sbFxyXG5cclxufSlcclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNjb250YWN0c1wiKS5mb3JFYWNoKChlKT0+e1xyXG4gIGUub25jbGljayA9IGNvbnRhY3RzU2Nyb2xsXHJcblxyXG59KVxyXG5cclxuZnVuY3Rpb24gc2Nyb2xsRG93biAoc2VjdGlvbil7XHJcbiAgaGVhZGVyLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtaGVhZGVyXCIpXHJcbiAgYnVyZ2VyLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtYnVyZ2VyXCIpXHJcbiAgaWYob2Zmc2V0ID4gc2VjdGlvbi5vZmZzZXRUb3AgLSA0MCl7XHJcbiAgICBvZmZzZXQgPSBvZmZzZXQgLSAyMFxyXG4gIH1lbHNle1xyXG4gICAgb2Zmc2V0ID0gb2Zmc2V0ICsgMjBcclxuICB9XHJcbiAgd2luZG93LnNjcm9sbFRvKDAsIG9mZnNldClcclxuICBpZihvZmZzZXQgPCBzZWN0aW9uLm9mZnNldFRvcCAtIDYwIHx8IG9mZnNldCA+IHNlY3Rpb24ub2Zmc2V0VG9wIC0gMjApe1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHNjcm9sbERvd24gKHNlY3Rpb24pXHJcbiAgICB9LCAwLjMpXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhYm91dFNjcm9sbChlKXtcclxuICBlLnByZXZlbnREZWZhdWx0KClcclxuICBzY3JvbGxEb3duKHNlY3Rpb25BYm91dClcclxufVxyXG5mdW5jdGlvbiBzZXJ2aWNlc1Njcm9sbChlKXtcclxuICBlLnByZXZlbnREZWZhdWx0KClcclxuICBzY3JvbGxEb3duKHNlY3Rpb25TZXJ2aWNlcylcclxufVxyXG5mdW5jdGlvbiBleGFtcGxlc1Njcm9sbChlKXtcclxuICBlLnByZXZlbnREZWZhdWx0KClcclxuICBzY3JvbGxEb3duKHNlY3Rpb25Xb3JrcylcclxufVxyXG5mdW5jdGlvbiBjb250YWN0c1Njcm9sbChlKXtcclxuICBlLnByZXZlbnREZWZhdWx0KClcclxuICBzY3JvbGxEb3duKHNlY3Rpb25Db250YWN0cylcclxufVxyXG5cclxuLy8gdGl0bGVzIGxhdHMgbGluZSB1bmRlcmxpbmVcclxuXHJcbigoKSA9PiB7XHJcbiAgY29uc3QgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubGFzdC1saW5lJylcclxuICBjb25zdCBuYW1lRWxlbWVudCA9ICdsYXN0LWxpbmUtZWxlbWVudCdcclxuICBjb25zdCBuYW1lUm93ID0gJ2xhc3QtbGluZS1yb3cnXHJcblxyXG4gIGNvbnN0IHdyYXBBbGwgPSAobm9kZXMsIHdyYXBwZXIsIGVsZW0pID0+IHtcclxuICAgIGNvbnN0IHBhcmVudCA9IG5vZGVzWzBdLnBhcmVudE5vZGVcclxuICAgIGNvbnN0IHsgcHJldmlvdXNTaWJsaW5nIH0gPSBub2Rlc1swXVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IG5vZGVzLmxlbmd0aCAtIGk7IHdyYXBwZXIuZmlyc3RDaGlsZCA9PT0gbm9kZXNbMF0gJiYgKGkgKz0gMSkpIHtcclxuICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChub2Rlc1tpXSlcclxuICAgIH1cclxuICAgIGlmIChwcmV2aW91c1NpYmxpbmcpIHtcclxuICAgICAgcGFyZW50Lmluc2VydEJlZm9yZSh3cmFwcGVyLCBwcmV2aW91c1NpYmxpbmcubmV4dFNpYmxpbmcpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBlbGVtLmFwcGVuZENoaWxkKHdyYXBwZXIpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gd3JhcHBlclxyXG4gIH1cclxuXHJcbiAgY29uc3QgZmluZExhc3RSb3cgPSAoZWxlbSkgPT4ge1xyXG4gICAgY29uc3QgY29udGVudCA9IGVsZW0uaW5uZXJUZXh0LnRyaW0oKVxyXG4gICAgY29uc3QgY29udGVudEFyciA9IGNvbnRlbnQuc3BsaXQoJyAnKVxyXG4gICAgbGV0IGNvbnRlbnRGb3JtYXR0ZWQgPSAnJ1xyXG4gICAgY29udGVudEFyci5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIGNvbnRlbnRGb3JtYXR0ZWQgKz0gYDxzcGFuPiR7aXRlbX0gPC9zcGFuPmBcclxuICAgIH0pXHJcbiAgICBjb25zdCBlbGVtZW50ID0gZWxlbVxyXG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSBjb250ZW50Rm9ybWF0dGVkXHJcblxyXG4gICAgY29uc3QgY2hpbGRyZW5TcGFuID0gQXJyYXkuZnJvbShlbGVtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzcGFuJykpXHJcbiAgICBsZXQgdG9wID0gMFxyXG4gICAgY2hpbGRyZW5TcGFuLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgY29uc3QgdGhpc1RvcCA9IGl0ZW0ub2Zmc2V0VG9wXHJcbiAgICAgIGlmICh0aGlzVG9wID09PSB0b3ApIHtcclxuICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQobmFtZUVsZW1lbnQpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hpbGRyZW5TcGFuLmZvckVhY2goKGVsKSA9PiB7XHJcbiAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKG5hbWVFbGVtZW50KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdG9wID0gdGhpc1RvcFxyXG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZChuYW1lRWxlbWVudClcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCB3cmFwRWxlbWVudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke25hbWVFbGVtZW50fWApXHJcbiAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXHJcbiAgICB3cmFwcGVyLmNsYXNzTGlzdC5hZGQobmFtZVJvdylcclxuICAgIHdyYXBBbGwod3JhcEVsZW1lbnRzLCB3cmFwcGVyLCBlbGVtKVxyXG4gIH1cclxuXHJcbiAgY29uc3QgZmluZExhc3RSb3dzID0gKCkgPT4ge1xyXG4gICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICBmaW5kTGFzdFJvdyhlbGVtKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XHJcbiAgICBmaW5kTGFzdFJvd3MoKVxyXG4gIH0pXHJcbiAgZmluZExhc3RSb3dzKClcclxufSkoKSJdfQ==
>>>>>>> c389e897461c8ef537c98acd83ff80320bcbefb9
