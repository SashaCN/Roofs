document.querySelector("header").style.paddingTop=document.querySelector(".header-line").getBoundingClientRect().height+"px";let header=document.querySelector(".header-line"),burger=document.querySelector(".burger");function menuToggle(e){e.preventDefault(),header.classList.toggle("active-header"),burger.classList.toggle("active-burger")}burger.onclick=menuToggle;let phone=document.querySelector(".phone-soc"),phoneSvg=document.querySelector(".phone-soc > a");function checkPhone(e){phoneSvg.closest(".phone-soc").classList.contains("active-phone")||e.preventDefault()}function phoneClick(e){phone.classList.contains("active-phone")&&e.target!=this||phone.classList.toggle("active-phone"),phoneClose(event)}function phoneClose(e){e.target==phone||phone.contains(e.target)||phone.classList.remove("active-phone")}phoneSvg.onclick=checkPhone,phone.onclick=phoneClick,document.body.onclick=phoneClose;let deletedImg,deletedNavImg,left=document.querySelector(".arr-left"),right=document.querySelector(".arr-right"),sliderLine=document.querySelector(".slider-line"),img=document.querySelectorAll(".slider-line div"),imgArr=[],imgNumber=0,sliderNav=document.querySelector(".navigation-line"),navContent=" ";left.onclick=slideLeft,right.onclick=slideRight;for(let e=0;e<img.length;e++)img[e].setAttribute("data-picture-number",e)," "==sliderNav.innerHTML?(sliderNav.innerHTML=""+img[e].outerHTML,navContent=sliderNav.innerHTML):(sliderNav.innerHTML=`${navContent}${img[e].outerHTML}`,navContent=sliderNav.innerHTML);let navSlide=document.querySelectorAll(".navigation-line div"),navSlideWidth=navSlide[0].getBoundingClientRect().width;if(document.body.offsetWidth>990){navSlide[2].classList.add("active-slide");for(let e=0;e<img.length;e++)img[e].style.transform=`translateX(-${2*img[1].getBoundingClientRect().width}px)`}else{navSlide[1].classList.add("active-slide");for(let e=0;e<img.length;e++)img[e].style.transform=`translateX(-${img[1].getBoundingClientRect().width}px)`}function slideLeft(e){let t=document.querySelectorAll(".slider-line div"),n=document.querySelectorAll(".navigation-line div");e.preventDefault(),deletedImg=t[t.length-1],sliderLine.removeChild(t[t.length-1]),sliderLine.insertBefore(deletedImg,sliderLine.firstElementChild),deletedNavImg=n[n.length-1],sliderNav.removeChild(n[n.length-1]),sliderNav.insertBefore(deletedNavImg,sliderNav.firstElementChild)}function slideRight(e){let t=document.querySelectorAll(".slider-line div"),n=document.querySelectorAll(".navigation-line div");e.preventDefault(),deletedImg=t[0],sliderLine.removeChild(t[0]),sliderLine.appendChild(deletedImg),deletedNavImg=n[0],sliderNav.removeChild(n[0]),sliderNav.appendChild(deletedNavImg)}for(let e=0;e<navSlide.length;e++)navSlide[e].onclick=goToSlide;function goToSlide(){let e=document.querySelector(".navigation-line .active-slide"),t=document.querySelectorAll(".slider-line div"),n=document.querySelectorAll(".navigation-line div");e.classList.remove("active-slide"),this.classList.add("active-slide");for(let e=0;e<n.length;e++)t[e].setAttribute("data-picture-number",e),n[e].setAttribute("data-picture-number",e);if(this.getAttribute("data-picture-number")>e.getAttribute("data-picture-number"))for(let e=2;e<this.getAttribute("data-picture-number");e++){let e=document.querySelectorAll(".slider-line div"),t=document.querySelectorAll(".navigation-line div");deletedImg=e[0],sliderLine.removeChild(e[0]),sliderLine.appendChild(deletedImg),deletedNavImg=t[0],sliderNav.removeChild(t[0]),sliderNav.appendChild(deletedNavImg)}else{if(!(this.getAttribute("data-picture-number")<e.getAttribute("data-picture-number")))return!1;for(let e=2;e>this.getAttribute("data-picture-number");e--){let e=document.querySelectorAll(".slider-line div"),t=document.querySelectorAll(".navigation-line div");deletedImg=e[e.length-1],sliderLine.removeChild(e[e.length-1]),sliderLine.insertBefore(deletedImg,sliderLine.firstElementChild),deletedNavImg=t[t.length-1],sliderNav.removeChild(t[t.length-1]),sliderNav.insertBefore(deletedNavImg,sliderNav.firstElementChild)}}}let animLeft=document.querySelectorAll(".animation-left"),animRight=document.querySelectorAll(".animation-right"),animBottom=document.querySelectorAll(".animation-bottom"),animFade=document.querySelectorAll(".animation-fade"),startAnim=window.innerHeight-15*window.innerHeight/100;function checkScroll(){animLeft.forEach(e=>{window.pageYOffset+startAnim>=e.offsetTop&&window.pageYOffset<=e.offsetTop&&e.classList.remove("animation-left")}),animRight.forEach(e=>{window.pageYOffset+startAnim>=e.offsetTop&&window.pageYOffset<=e.offsetTop&&e.classList.remove("animation-right")}),animBottom.forEach(e=>{window.pageYOffset+startAnim>=e.offsetTop&&window.pageYOffset<=e.offsetTop&&e.classList.remove("animation-bottom")}),animFade.forEach(e=>{window.pageYOffset+startAnim>=e.offsetTop&&window.pageYOffset<=e.offsetTop&&e.classList.remove("animation-fade")})}window.onwheel=checkScroll,window.onscroll=checkScroll;let sectionAbout=document.querySelector(".about-us"),sectionServices=document.querySelector(".services"),sectionWorks=document.querySelector(".examples"),sectionContacts=document.querySelector("footer"),offset=window.pageYOffset;function scrollDown(e){offset>e.offsetTop-40?offset-=20:offset+=20,window.scrollTo(0,offset),(offset<e.offsetTop-60||offset>e.offsetTop-20)&&setTimeout(()=>{scrollDown(e)},.3)}function aboutScroll(e){e.preventDefault(),scrollDown(sectionAbout)}function servicesScroll(e){e.preventDefault(),scrollDown(sectionServices)}function examplesScroll(e){e.preventDefault(),scrollDown(sectionWorks)}function contactsScroll(e){e.preventDefault(),scrollDown(sectionContacts)}document.querySelector("#about-us").onclick=aboutScroll,document.querySelector("#services").onclick=servicesScroll,document.querySelector("#examples").onclick=examplesScroll,document.querySelector("#contacts").onclick=contactsScroll,(()=>{const e=document.querySelectorAll(".last-line"),t=()=>{e.forEach(e=>{(e=>{const t=e.innerText.trim().split(" ");let n="";t.forEach(e=>{n+=`<span>${e} </span>`});const i=e;i.innerHTML=n;const l=Array.from(e.getElementsByTagName("span"));let o=0;l.forEach(e=>{const t=e.offsetTop;t===o||(l.forEach(e=>{e.classList.remove("last-line-element")}),o=t),e.classList.add("last-line-element")});const r=i.querySelectorAll(".last-line-element"),c=document.createElement("span");c.classList.add("last-line-row"),((e,t,n)=>{const i=e[0].parentNode,{previousSibling:l}=e[0];for(let n=0;e.length-n;t.firstChild===e[0]&&(n+=1))t.appendChild(e[n]);l?i.insertBefore(t,l.nextSibling):n.appendChild(t)})(r,c,e)})(e)})};window.addEventListener("resize",()=>{t()}),t()})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic3R5bGUiLCJwYWRkaW5nVG9wIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaGVpZ2h0IiwiaGVhZGVyIiwiYnVyZ2VyIiwibWVudVRvZ2dsZSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJvbmNsaWNrIiwicGhvbmUiLCJwaG9uZVN2ZyIsImNoZWNrUGhvbmUiLCJlIiwiY2xvc2VzdCIsImNvbnRhaW5zIiwicGhvbmVDbGljayIsInRhcmdldCIsInRoaXMiLCJwaG9uZUNsb3NlIiwicmVtb3ZlIiwiYm9keSIsImRlbGV0ZWRJbWciLCJkZWxldGVkTmF2SW1nIiwibGVmdCIsInJpZ2h0Iiwic2xpZGVyTGluZSIsImltZyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbWdBcnIiLCJpbWdOdW1iZXIiLCJzbGlkZXJOYXYiLCJuYXZDb250ZW50Iiwic2xpZGVMZWZ0Iiwic2xpZGVSaWdodCIsImkiLCJsZW5ndGgiLCJzZXRBdHRyaWJ1dGUiLCJpbm5lckhUTUwiLCJvdXRlckhUTUwiLCJuYXZTbGlkZSIsIm5hdlNsaWRlV2lkdGgiLCJ3aWR0aCIsIm9mZnNldFdpZHRoIiwiYWRkIiwidHJhbnNmb3JtIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImFwcGVuZENoaWxkIiwiZ29Ub1NsaWRlIiwiYWN0aXZlU2xpZGUiLCJhIiwiZ2V0QXR0cmlidXRlIiwiYyIsImFuaW1MZWZ0IiwiYW5pbVJpZ2h0IiwiYW5pbUJvdHRvbSIsImFuaW1GYWRlIiwic3RhcnRBbmltIiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJjaGVja1Njcm9sbCIsImZvckVhY2giLCJlbGVtIiwicGFnZVlPZmZzZXQiLCJvZmZzZXRUb3AiLCJvbndoZWVsIiwib25zY3JvbGwiLCJzZWN0aW9uQWJvdXQiLCJzZWN0aW9uU2VydmljZXMiLCJzZWN0aW9uV29ya3MiLCJzZWN0aW9uQ29udGFjdHMiLCJvZmZzZXQiLCJzY3JvbGxEb3duIiwic2VjdGlvbiIsInNjcm9sbFRvIiwic2V0VGltZW91dCIsImFib3V0U2Nyb2xsIiwic2VydmljZXNTY3JvbGwiLCJleGFtcGxlc1Njcm9sbCIsImNvbnRhY3RzU2Nyb2xsIiwiZWxlbWVudHMiLCJmaW5kTGFzdFJvd3MiLCJjb250ZW50QXJyIiwiaW5uZXJUZXh0IiwidHJpbSIsInNwbGl0IiwiY29udGVudEZvcm1hdHRlZCIsIml0ZW0iLCJlbGVtZW50IiwiY2hpbGRyZW5TcGFuIiwiQXJyYXkiLCJmcm9tIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJ0b3AiLCJ0aGlzVG9wIiwiZWwiLCJ3cmFwRWxlbWVudHMiLCJ3cmFwcGVyIiwiY3JlYXRlRWxlbWVudCIsIm5vZGVzIiwicGFyZW50IiwicGFyZW50Tm9kZSIsInByZXZpb3VzU2libGluZyIsImZpcnN0Q2hpbGQiLCJuZXh0U2libGluZyIsIndyYXBBbGwiLCJmaW5kTGFzdFJvdyIsImFkZEV2ZW50TGlzdGVuZXIiXSwibWFwcGluZ3MiOiJBQUFBQSxTQUFTQyxjQUFjLFVBQVVDLE1BQU1DLFdBQWdCSCxTQUFTQyxjQUFjLGdCQUFnQkcsd0JBQXdCQyxPQUFsRSxLQUdwRCxJQUFJQyxPQUFTTixTQUFTQyxjQUFjLGdCQUNoQ00sT0FBU1AsU0FBU0MsY0FBYyxXQUlwQyxTQUFTTyxXQUFZQyxHQUNuQkEsRUFBTUMsaUJBQ05KLE9BQU9LLFVBQVVDLE9BQU8saUJBQ3hCTCxPQUFPSSxVQUFVQyxPQUFPLGlCQUwxQkwsT0FBT00sUUFBVUwsV0FVakIsSUFBSU0sTUFBUWQsU0FBU0MsY0FBYyxjQUMvQmMsU0FBV2YsU0FBU0MsY0FBYyxrQkFJdEMsU0FBU2UsV0FBWUMsR0FDZkYsU0FBU0csUUFBUSxjQUFjUCxVQUFVUSxTQUFTLGlCQUNwREYsRUFBRVAsaUJBTU4sU0FBU1UsV0FBWUgsR0FDaEJILE1BQU1ILFVBQVVRLFNBQVMsaUJBQW1C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QU0sS0FBT2xFLEdBQUssR0FDekVnRSxFQUFRbEQsWUFBWW9ELEVBQU1sRSxJQUV4QnFFLEVBQ0ZGLEVBQU92RCxhQUFhb0QsRUFBU0ssRUFBZ0JFLGFBRTdDMUMsRUFBS2YsWUFBWWtELElBaUNuQlEsQ0FBUVQsRUFBY0MsRUFBU25DLElBSzdCNEMsQ0FBWTVDLE1BSWhCSixPQUFPaUQsaUJBQWlCLFNBQVUsS0FDaEMxQixNQUVGQSxLQTNERiIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImhlYWRlclwiKS5zdHlsZS5wYWRkaW5nVG9wID0gYCR7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXItbGluZVwiKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHR9cHhgXHJcblxyXG4vLyBidXJnZXIgbWVudSBcclxubGV0IGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyLWxpbmVcIiksXHJcbiAgICBidXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1cmdlclwiKVxyXG5cclxuYnVyZ2VyLm9uY2xpY2sgPSBtZW51VG9nZ2xlIFxyXG5cclxuZnVuY3Rpb24gbWVudVRvZ2dsZSAoZXZlbnQpe1xyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICBoZWFkZXIuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZS1oZWFkZXJcIilcclxuICBidXJnZXIuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZS1idXJnZXJcIilcclxufVxyXG5cclxuLy9waG9uZSBvbiBzb2MgbGluZSB0b2dnbGUgXHJcblxyXG5sZXQgcGhvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBob25lLXNvY1wiKSxcclxuICAgIHBob25lU3ZnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5waG9uZS1zb2MgPiBhXCIpXHJcblxyXG5waG9uZVN2Zy5vbmNsaWNrID0gY2hlY2tQaG9uZVxyXG5cclxuZnVuY3Rpb24gY2hlY2tQaG9uZSAoZSl7XHJcbiAgaWYoIXBob25lU3ZnLmNsb3Nlc3QoXCIucGhvbmUtc29jXCIpLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZS1waG9uZVwiKSl7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KClcclxuICB9XHJcbn1cclxuXHJcbnBob25lLm9uY2xpY2sgPSBwaG9uZUNsaWNrXHJcblxyXG5mdW5jdGlvbiBwaG9uZUNsaWNrIChlKXtcclxuICBpZihwaG9uZS5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmUtcGhvbmVcIikgJiYgZS50YXJnZXQgIT0gdGhpcyl7XHJcbiAgfWVsc2V7XHJcbiAgICBwaG9uZS5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlLXBob25lXCIpXHJcbiAgfVxyXG4gIHBob25lQ2xvc2UoZXZlbnQpXHJcbn1cclxuXHJcbmRvY3VtZW50LmJvZHkub25jbGljayA9IHBob25lQ2xvc2VcclxuXHJcbmZ1bmN0aW9uIHBob25lQ2xvc2UgKGV2ZW50KXtcclxuICBpZihldmVudC50YXJnZXQgIT0gcGhvbmUgJiYgIXBob25lLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpe1xyXG4gICAgcGhvbmUuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZS1waG9uZVwiKVxyXG4gIH1cclxufVxyXG5cclxuLy8gZ2FsbGVyeSBzbGlkZXIgXHJcbmxldCBsZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hcnItbGVmdFwiKSxcclxuICAgIHJpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hcnItcmlnaHRcIiksXHJcbiAgICBzbGlkZXJMaW5lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbGlkZXItbGluZVwiKSxcclxuICAgIGltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2xpZGVyLWxpbmUgZGl2XCIpLFxyXG4gICAgaW1nQXJyID0gW10sXHJcbiAgICBpbWdOdW1iZXIgPSAwLFxyXG4gICAgc2xpZGVyTmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZpZ2F0aW9uLWxpbmVcIiksXHJcbiAgICBuYXZDb250ZW50ID0gXCIgXCIsXHJcbiAgICBkZWxldGVkSW1nLFxyXG4gICAgZGVsZXRlZE5hdkltZ1xyXG5cclxubGVmdC5vbmNsaWNrID0gc2xpZGVMZWZ0IFxyXG5yaWdodC5vbmNsaWNrID0gc2xpZGVSaWdodCBcclxuXHJcbmZvcihsZXQgaSA9IDA7IGkgPCBpbWcubGVuZ3RoOyBpKyspe1xyXG4gIGltZ1tpXS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXBpY3R1cmUtbnVtYmVyXCIsIGkpXHJcbiAgaWYoc2xpZGVyTmF2LmlubmVySFRNTCA9PSBcIiBcIil7XHJcbiAgICBzbGlkZXJOYXYuaW5uZXJIVE1MID0gYCR7aW1nW2ldLm91dGVySFRNTH1gXHJcbiAgICBuYXZDb250ZW50ID0gc2xpZGVyTmF2LmlubmVySFRNTFxyXG4gIH1lbHNle1xyXG4gICAgc2xpZGVyTmF2LmlubmVySFRNTCA9IGAke25hdkNvbnRlbnR9JHtpbWdbaV0ub3V0ZXJIVE1MfWBcclxuICAgIG5hdkNvbnRlbnQgPSBzbGlkZXJOYXYuaW5uZXJIVE1MXHJcbiAgfVxyXG59XHJcblxyXG5cclxubGV0IG5hdlNsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZpZ2F0aW9uLWxpbmUgZGl2XCIpLFxyXG5uYXZTbGlkZVdpZHRoID0gbmF2U2xpZGVbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGhcclxuICAgIFxyXG5pZihkb2N1bWVudC5ib2R5Lm9mZnNldFdpZHRoID4gOTkwKXtcclxuICBuYXZTbGlkZVsyXS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlLXNsaWRlXCIpICBcclxuICBmb3IobGV0IGkgPSAwOyBpIDwgaW1nLmxlbmd0aDsgaSsrKXtcclxuICAgIGltZ1tpXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgtJHtpbWdbMV0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKiAyfXB4KWBcclxuICB9XHJcbn1lbHNle1xyXG4gIG5hdlNsaWRlWzFdLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtc2xpZGVcIikgIFxyXG4gIGZvcihsZXQgaSA9IDA7IGkgPCBpbWcubGVuZ3RoOyBpKyspe1xyXG4gICAgaW1nW2ldLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke2ltZ1sxXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aH1weClgIFxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2xpZGVMZWZ0IChldmVudCl7XHJcbiAgbGV0IGltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2xpZGVyLWxpbmUgZGl2XCIpLFxyXG4gICAgICBuYXZTbGlkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmF2aWdhdGlvbi1saW5lIGRpdlwiKVxyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICBkZWxldGVkSW1nID0gaW1nW2ltZy5sZW5ndGggLSAxXVxyXG4gIHNsaWRlckxpbmUucmVtb3ZlQ2hpbGQoaW1nW2ltZy5sZW5ndGggLSAxXSlcclxuICBzbGlkZXJMaW5lLmluc2VydEJlZm9yZShkZWxldGVkSW1nLCBzbGlkZXJMaW5lLmZpcnN0RWxlbWVudENoaWxkKVxyXG4gIGRlbGV0ZWROYXZJbWcgPSBuYXZTbGlkZVtuYXZTbGlkZS5sZW5ndGggLSAxXVxyXG4gIHNsaWRlck5hdi5yZW1vdmVDaGlsZChuYXZTbGlkZVtuYXZTbGlkZS5sZW5ndGggLSAxXSlcclxuICBzbGlkZXJOYXYuaW5zZXJ0QmVmb3JlKGRlbGV0ZWROYXZJbWcsIHNsaWRlck5hdi5maXJzdEVsZW1lbnRDaGlsZClcclxufVxyXG5cclxuZnVuY3Rpb24gc2xpZGVSaWdodCAoZXZlbnQpe1xyXG4gIGxldCBpbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNsaWRlci1saW5lIGRpdlwiKSxcclxuICAgICAgbmF2U2xpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdmlnYXRpb24tbGluZSBkaXZcIilcclxuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgZGVsZXRlZEltZyA9IGltZ1swXVxyXG4gIHNsaWRlckxpbmUucmVtb3ZlQ2hpbGQoaW1nWzBdKVxyXG4gIHNsaWRlckxpbmUuYXBwZW5kQ2hpbGQoZGVsZXRlZEltZylcclxuICBkZWxldGVkTmF2SW1nID0gbmF2U2xpZGVbMF1cclxuICBzbGlkZXJOYXYucmVtb3ZlQ2hpbGQobmF2U2xpZGVbMF0pXHJcbiAgc2xpZGVyTmF2LmFwcGVuZENoaWxkKGRlbGV0ZWROYXZJbWcpXHJcbn1cclxuXHJcbmZvcihsZXQgaSA9IDA7IGkgPCBuYXZTbGlkZS5sZW5ndGg7IGkrKyl7XHJcbiAgbmF2U2xpZGVbaV0ub25jbGljayA9IGdvVG9TbGlkZVxyXG59XHJcblxyXG5mdW5jdGlvbiBnb1RvU2xpZGUgKCl7XHJcbiAgbGV0IGFjdGl2ZVNsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLm5hdmlnYXRpb24tbGluZSAuYWN0aXZlLXNsaWRlYCksXHJcbiAgICAgIGltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2xpZGVyLWxpbmUgZGl2XCIpLFxyXG4gICAgICBuYXZTbGlkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmF2aWdhdGlvbi1saW5lIGRpdlwiKVxyXG4gIGFjdGl2ZVNsaWRlLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtc2xpZGVcIikgIFxyXG4gIHRoaXMuY2xhc3NMaXN0LmFkZChcImFjdGl2ZS1zbGlkZVwiKSBcclxuICBmb3IobGV0IGEgPSAwOyBhIDwgbmF2U2xpZGUubGVuZ3RoOyBhKyspe1xyXG4gICAgaW1nW2FdLnNldEF0dHJpYnV0ZShcImRhdGEtcGljdHVyZS1udW1iZXJcIiwgYSlcclxuICAgIG5hdlNsaWRlW2FdLnNldEF0dHJpYnV0ZShcImRhdGEtcGljdHVyZS1udW1iZXJcIiwgYSlcclxuICB9ICBcclxuICBpZih0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtcGljdHVyZS1udW1iZXJcIikgPiBhY3RpdmVTbGlkZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBpY3R1cmUtbnVtYmVyXCIpKXtcclxuICAgIGZvcihsZXQgYyA9IDI7IGMgPCB0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtcGljdHVyZS1udW1iZXJcIik7IGMrKyl7XHJcbiAgICAgIGxldCBpbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNsaWRlci1saW5lIGRpdlwiKSxcclxuICAgICAgICAgIG5hdlNsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZpZ2F0aW9uLWxpbmUgZGl2XCIpXHJcbiAgICAgIGRlbGV0ZWRJbWcgPSBpbWdbMF1cclxuICAgICAgc2xpZGVyTGluZS5yZW1vdmVDaGlsZChpbWdbMF0pXHJcbiAgICAgIHNsaWRlckxpbmUuYXBwZW5kQ2hpbGQoZGVsZXRlZEltZylcclxuICAgICAgZGVsZXRlZE5hdkltZyA9IG5hdlNsaWRlWzBdXHJcbiAgICAgIHNsaWRlck5hdi5yZW1vdmVDaGlsZChuYXZTbGlkZVswXSlcclxuICAgICAgc2xpZGVyTmF2LmFwcGVuZENoaWxkKGRlbGV0ZWROYXZJbWcpXHJcbiAgICB9XHJcbiAgfWVsc2UgaWYodGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBpY3R1cmUtbnVtYmVyXCIpIDwgYWN0aXZlU2xpZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1waWN0dXJlLW51bWJlclwiKSl7XHJcbiAgICBmb3IobGV0IGMgPSAyOyBjID4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBpY3R1cmUtbnVtYmVyXCIpOyBjLS0pe1xyXG4gICAgICBsZXQgaW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zbGlkZXItbGluZSBkaXZcIiksXHJcbiAgICAgICAgICBuYXZTbGlkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmF2aWdhdGlvbi1saW5lIGRpdlwiKVxyXG4gICAgICBkZWxldGVkSW1nID0gaW1nW2ltZy5sZW5ndGggLSAxXVxyXG4gICAgICBzbGlkZXJMaW5lLnJlbW92ZUNoaWxkKGltZ1tpbWcubGVuZ3RoIC0gMV0pXHJcbiAgICAgIHNsaWRlckxpbmUuaW5zZXJ0QmVmb3JlKGRlbGV0ZWRJbWcsIHNsaWRlckxpbmUuZmlyc3RFbGVtZW50Q2hpbGQpXHJcbiAgICAgIGRlbGV0ZWROYXZJbWcgPSBuYXZTbGlkZVtuYXZTbGlkZS5sZW5ndGggLSAxXVxyXG4gICAgICBzbGlkZXJOYXYucmVtb3ZlQ2hpbGQobmF2U2xpZGVbbmF2U2xpZGUubGVuZ3RoIC0gMV0pXHJcbiAgICAgIHNsaWRlck5hdi5pbnNlcnRCZWZvcmUoZGVsZXRlZE5hdkltZywgc2xpZGVyTmF2LmZpcnN0RWxlbWVudENoaWxkKVxyXG4gICAgfVxyXG4gIH1lbHNle1xyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfVxyXG59XHJcblxyXG4vLyBzY3JvbGwgYW5pbWF0aW9uc1xyXG5cclxubGV0IGFuaW1MZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hbmltYXRpb24tbGVmdFwiKSxcclxuICAgIGFuaW1SaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYW5pbWF0aW9uLXJpZ2h0XCIpLFxyXG4gICAgYW5pbUJvdHRvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYW5pbWF0aW9uLWJvdHRvbVwiKSxcclxuICAgIGFuaW1GYWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hbmltYXRpb24tZmFkZVwiKSxcclxuICAgIHN0YXJ0QW5pbSA9IHdpbmRvdy5pbm5lckhlaWdodCAtICh3aW5kb3cuaW5uZXJIZWlnaHQqMTUvMTAwKVxyXG5cclxuICAgIHdpbmRvdy5vbndoZWVsID0gY2hlY2tTY3JvbGxcclxuICAgIHdpbmRvdy5vbnNjcm9sbCA9IGNoZWNrU2Nyb2xsXHJcbiAgICBcclxuZnVuY3Rpb24gY2hlY2tTY3JvbGwgKCl7XHJcbiAgYW5pbUxlZnQuZm9yRWFjaCgoZWxlbSk9PnsgIFxyXG4gICAgaWYod2luZG93LnBhZ2VZT2Zmc2V0ICsgc3RhcnRBbmltID49IGVsZW0ub2Zmc2V0VG9wICYmIHdpbmRvdy5wYWdlWU9mZnNldCA8PSBlbGVtLm9mZnNldFRvcCl7XHJcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZShcImFuaW1hdGlvbi1sZWZ0XCIpXHJcbiAgICB9XHJcbiAgfSlcclxuICBhbmltUmlnaHQuZm9yRWFjaCgoZWxlbSk9PnsgIFxyXG4gICAgaWYod2luZG93LnBhZ2VZT2Zmc2V0ICsgc3RhcnRBbmltID49IGVsZW0ub2Zmc2V0VG9wICYmIHdpbmRvdy5wYWdlWU9mZnNldCA8PSBlbGVtLm9mZnNldFRvcCl7XHJcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZShcImFuaW1hdGlvbi1yaWdodFwiKVxyXG4gICAgfVxyXG4gIH0pXHJcbiAgYW5pbUJvdHRvbS5mb3JFYWNoKChlbGVtKT0+eyAgXHJcbiAgICBpZih3aW5kb3cucGFnZVlPZmZzZXQgKyBzdGFydEFuaW0gPj0gZWxlbS5vZmZzZXRUb3AgJiYgd2luZG93LnBhZ2VZT2Zmc2V0IDw9IGVsZW0ub2Zmc2V0VG9wKXtcclxuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKFwiYW5pbWF0aW9uLWJvdHRvbVwiKVxyXG4gICAgfVxyXG4gIH0pXHJcbiAgYW5pbUZhZGUuZm9yRWFjaCgoZWxlbSk9PnsgIFxyXG4gICAgaWYod2luZG93LnBhZ2VZT2Zmc2V0ICsgc3RhcnRBbmltID49IGVsZW0ub2Zmc2V0VG9wICYmIHdpbmRvdy5wYWdlWU9mZnNldCA8PSBlbGVtLm9mZnNldFRvcCl7XHJcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZShcImFuaW1hdGlvbi1mYWRlXCIpXHJcbiAgICB9XHJcbiAgfSlcclxufVxyXG5cclxuLy9oZWFkZXIgc2Nyb2xsIHRvIFxyXG5cclxubGV0IHNlY3Rpb25BYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWJvdXQtdXNcIiksXHJcbiAgICBzZWN0aW9uU2VydmljZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlcnZpY2VzXCIpLFxyXG4gICAgc2VjdGlvbldvcmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5leGFtcGxlc1wiKSxcclxuICAgIHNlY3Rpb25Db250YWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJmb290ZXJcIiksXHJcbiAgICBvZmZzZXQgPSB3aW5kb3cucGFnZVlPZmZzZXRcclxuICAgIFxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Fib3V0LXVzXCIpLm9uY2xpY2sgPSBhYm91dFNjcm9sbFxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NlcnZpY2VzXCIpLm9uY2xpY2sgPSBzZXJ2aWNlc1Njcm9sbFxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2V4YW1wbGVzXCIpLm9uY2xpY2sgPSBleGFtcGxlc1Njcm9sbFxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbnRhY3RzXCIpLm9uY2xpY2sgPSBjb250YWN0c1Njcm9sbFxyXG5cclxuZnVuY3Rpb24gc2Nyb2xsRG93biAoc2VjdGlvbil7XHJcbiAgaWYob2Zmc2V0ID4gc2VjdGlvbi5vZmZzZXRUb3AgLSA0MCl7XHJcbiAgICBvZmZzZXQgPSBvZmZzZXQgLSAyMFxyXG4gIH1lbHNle1xyXG4gICAgb2Zmc2V0ID0gb2Zmc2V0ICsgMjBcclxuICB9XHJcbiAgd2luZG93LnNjcm9sbFRvKDAsIG9mZnNldClcclxuICBpZihvZmZzZXQgPCBzZWN0aW9uLm9mZnNldFRvcCAtIDYwIHx8IG9mZnNldCA+IHNlY3Rpb24ub2Zmc2V0VG9wIC0gMjApe1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHNjcm9sbERvd24gKHNlY3Rpb24pXHJcbiAgICB9LCAwLjMpXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhYm91dFNjcm9sbChlKXtcclxuICBlLnByZXZlbnREZWZhdWx0KClcclxuICBzY3JvbGxEb3duKHNlY3Rpb25BYm91dClcclxufVxyXG5mdW5jdGlvbiBzZXJ2aWNlc1Njcm9sbChlKXtcclxuICBlLnByZXZlbnREZWZhdWx0KClcclxuICBzY3JvbGxEb3duKHNlY3Rpb25TZXJ2aWNlcylcclxufVxyXG5mdW5jdGlvbiBleGFtcGxlc1Njcm9sbChlKXtcclxuICBlLnByZXZlbnREZWZhdWx0KClcclxuICBzY3JvbGxEb3duKHNlY3Rpb25Xb3JrcylcclxufVxyXG5mdW5jdGlvbiBjb250YWN0c1Njcm9sbChlKXtcclxuICBlLnByZXZlbnREZWZhdWx0KClcclxuICBzY3JvbGxEb3duKHNlY3Rpb25Db250YWN0cylcclxufVxyXG5cclxuLy8gdGl0bGVzIGxhdHMgbGluZSB1bmRlcmxpbmVcclxuXHJcbigoKSA9PiB7XHJcbiAgY29uc3QgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubGFzdC1saW5lJylcclxuICBjb25zdCBuYW1lRWxlbWVudCA9ICdsYXN0LWxpbmUtZWxlbWVudCdcclxuICBjb25zdCBuYW1lUm93ID0gJ2xhc3QtbGluZS1yb3cnXHJcblxyXG4gIGNvbnN0IHdyYXBBbGwgPSAobm9kZXMsIHdyYXBwZXIsIGVsZW0pID0+IHtcclxuICAgIGNvbnN0IHBhcmVudCA9IG5vZGVzWzBdLnBhcmVudE5vZGVcclxuICAgIGNvbnN0IHsgcHJldmlvdXNTaWJsaW5nIH0gPSBub2Rlc1swXVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IG5vZGVzLmxlbmd0aCAtIGk7IHdyYXBwZXIuZmlyc3RDaGlsZCA9PT0gbm9kZXNbMF0gJiYgKGkgKz0gMSkpIHtcclxuICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChub2Rlc1tpXSlcclxuICAgIH1cclxuICAgIGlmIChwcmV2aW91c1NpYmxpbmcpIHtcclxuICAgICAgcGFyZW50Lmluc2VydEJlZm9yZSh3cmFwcGVyLCBwcmV2aW91c1NpYmxpbmcubmV4dFNpYmxpbmcpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBlbGVtLmFwcGVuZENoaWxkKHdyYXBwZXIpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gd3JhcHBlclxyXG4gIH1cclxuXHJcbiAgY29uc3QgZmluZExhc3RSb3cgPSAoZWxlbSkgPT4ge1xyXG4gICAgY29uc3QgY29udGVudCA9IGVsZW0uaW5uZXJUZXh0LnRyaW0oKVxyXG4gICAgY29uc3QgY29udGVudEFyciA9IGNvbnRlbnQuc3BsaXQoJyAnKVxyXG4gICAgbGV0IGNvbnRlbnRGb3JtYXR0ZWQgPSAnJ1xyXG4gICAgY29udGVudEFyci5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIGNvbnRlbnRGb3JtYXR0ZWQgKz0gYDxzcGFuPiR7aXRlbX0gPC9zcGFuPmBcclxuICAgIH0pXHJcbiAgICBjb25zdCBlbGVtZW50ID0gZWxlbVxyXG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSBjb250ZW50Rm9ybWF0dGVkXHJcblxyXG4gICAgY29uc3QgY2hpbGRyZW5TcGFuID0gQXJyYXkuZnJvbShlbGVtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzcGFuJykpXHJcbiAgICBsZXQgdG9wID0gMFxyXG4gICAgY2hpbGRyZW5TcGFuLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgY29uc3QgdGhpc1RvcCA9IGl0ZW0ub2Zmc2V0VG9wXHJcbiAgICAgIGlmICh0aGlzVG9wID09PSB0b3ApIHtcclxuICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQobmFtZUVsZW1lbnQpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hpbGRyZW5TcGFuLmZvckVhY2goKGVsKSA9PiB7XHJcbiAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKG5hbWVFbGVtZW50KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdG9wID0gdGhpc1RvcFxyXG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZChuYW1lRWxlbWVudClcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCB3cmFwRWxlbWVudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke25hbWVFbGVtZW50fWApXHJcbiAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXHJcbiAgICB3cmFwcGVyLmNsYXNzTGlzdC5hZGQobmFtZVJvdylcclxuICAgIHdyYXBBbGwod3JhcEVsZW1lbnRzLCB3cmFwcGVyLCBlbGVtKVxyXG4gIH1cclxuXHJcbiAgY29uc3QgZmluZExhc3RSb3dzID0gKCkgPT4ge1xyXG4gICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICBmaW5kTGFzdFJvdyhlbGVtKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XHJcbiAgICBmaW5kTGFzdFJvd3MoKVxyXG4gIH0pXHJcbiAgZmluZExhc3RSb3dzKClcclxufSkoKSJdfQ==
